var De=Object.defineProperty,$e=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var ne=(r,s,t)=>s in r?De(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t,w=(r,s)=>{for(var t in s||(s={}))ae.call(s,t)&&ne(r,t,s[t]);if(V)for(var t of V(s))se.call(s,t)&&ne(r,t,s[t]);return r},C=(r,s)=>$e(r,ze(s));var Y=(r,s)=>{var t={};for(var a in r)ae.call(r,a)&&s.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&V)for(var a of V(r))s.indexOf(a)<0&&se.call(r,a)&&(t[a]=r[a]);return t};import{a as Le,r as d,j as e,u as Q,t as b,b as n,L as Ue,F as y,c as Be,N as Me,d as Ie,e as J,f as q,g as O,T as U,S as X,h as W,i as oe,k as le,l as ce,m as L,R as qe,n as $,o as Fe,p as je,B as Ge}from"./vendor.8faa4c83.js";const He=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};He();const E=Le.create({baseURL:"https://gesin.herokuapp.com"}),ie=r=>{r?E.defaults.headers.common["x-auth-token"]=r:delete E.defaults.headers.common["x-auth-token"]},de="[AUTH] ADMIN_LOGIN_SUCCESS",Z="[AUTH] ADMIN_LOGIN_ERROR",me="[AUTH] ADMIN_LOGOUT",ue="[AUTH] GET_USER",pe="[CUSTOMERS] GET_CUSTOMERS",he="[CUSTOMERS] GET_CUSTOMER",xe="[CUSTOMERS] ADD_CUSTOMER",ge="[CUSTOMERS] DELETE_CUSTOMER",fe="[CUSTOMERS] UPDATE_CUSTOMER",ye="[PRODUCTS] GET_PRODUCTS",be="[PRODUCTS] GET_PRODUCT",Ne="[PRODUCTS] ADD_PRODUCT",ve="[PRODUCTS] DELETE_PRODUCT",we="[PRODUCTS] UPDATE_PRODUCT",Ce="[ORDERS] GET_ORDERS",ke="[ORDERS] CANCEL_ORDER",Ee="[ORDERS] DELIVER_ORDER",Se="[ALERT] SHOW_ALERT",Pe="[ALERT] HIDE_ALERT",_e=d.exports.createContext({}),Ve=(r,s)=>{const{type:t,payload:a}=s;switch(t){case Se:return{msg:a.msg,type:a.type};case Pe:return{msg:null,type:null};default:return r}},Ye=({children:r})=>{const[s,t]=d.exports.useReducer(Ve,{msg:"",type:""}),a=(o,i)=>{t({type:Se,payload:{msg:o,type:i}}),setTimeout(()=>{t({type:Pe})},4e3)};return e(_e.Provider,{value:{msg:s.msg,type:s.type,showAlert:a},children:r})},F=d.exports.createContext({}),Qe=(r,s)=>{const{type:t,payload:a}=s;switch(t){case de:return sessionStorage.setItem("auth-token",a.token),C(w({},r),{authenticated:!0,message:null});case Z:case me:return sessionStorage.removeItem("auth-token"),C(w({},r),{authenticated:null,message:a,token:null,user:null});case ue:return C(w({},r),{authenticated:!0,user:a});default:return r}},We=({children:r})=>{const s={token:typeof window!="undefined"?sessionStorage.getItem("auth-token"):"",authenticated:null,message:null,user:null},[t,a]=d.exports.useReducer(Qe,s),o=async x=>{var u;try{const l=await E.post("/api/v1/auth/login",x);a({type:de,payload:l.data}),i()}catch(l){const g={msg:((u=l.response)==null?void 0:u.data.msg)||"Network Error",type:"error"};a({type:Z,payload:g})}},i=async()=>{const x=sessionStorage.getItem("auth-token");x&&ie(x);try{const u=await E.get("/api/v1/auth/me");a({type:ue,payload:u.data.user})}catch{a({type:Z,payload:null})}},h=()=>{a({type:me})};return e(F.Provider,{value:{token:t.token,authenticated:t.authenticated,message:t.message,user:t.user,login:o,userAuthenticated:i,logout:h},children:r})},j=d.exports.createContext({}),Ke=(r,s)=>{const{type:t,payload:a}=s;switch(t){case pe:return C(w({},r),{customers:a});case he:return C(w({},r),{customer:a,message:null});case xe:return C(w({},r),{customers:[...r.customers,a]});case ge:return C(w({},r),{customers:r.customers.filter(o=>o._id!==a)});case fe:return C(w({},r),{customers:r.customers.map(o=>o._id===a._id?a:o),customer:null});default:return r}},Je=({children:r})=>{const s=Q(),t={customers:[],customer:null},[a,o]=d.exports.useReducer(Ke,t),i=async()=>{var c;try{const{data:m}=await E.get("/api/v1/customers");o({type:pe,payload:m.customers})}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error getting customers. Try again later or contact support.";b.error(g,{duration:5e3})}},h=async c=>{var m;try{const{data:p}=await E.get(`/api/v1/customers/${c}`);o({type:he,payload:p.customer})}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error getting customer. Try again later or contact support.";b.error(f,{duration:5e3})}},x=async c=>{var m;try{const{data:p}=await E.post("/api/v1/customers/create",c);o({type:xe,payload:p.customer}),b.success(p.msg,{duration:5e3}),s("/customers")}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error adding customer. Try again later or contact support.";b.error(f,{duration:5e3})}},u=async c=>{var m;try{const{data:p}=await E.delete(`/api/v1/customers/delete/${c}`);o({type:ge,payload:c}),b.success(p.msg,{duration:5e3})}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error deleting customer. Try again later or contact support.";b.error(f,{duration:5e3})}},l=async c=>{var p;try{const m=c,{_id:g}=m,f=Y(m,["_id"]),{data:k}=await E.put(`/api/v1/customers/edit/${g}`,f);o({type:fe,payload:k.customer}),b.success(k.msg,{duration:5e3}),s("/customers")}catch(g){const k=((p=g.response)==null?void 0:p.data.msg)||"Error updating customer. Try again later or contact support.";b.error(k,{duration:5e3})}};return e(j.Provider,{value:{customers:a.customers,customer:a.customer,getCustomers:i,getCustomer:h,addCustomer:x,deleteCustomer:u,updateCustomer:l},children:r})},K=d.exports.createContext({}),Xe=(r,s)=>{const{type:t,payload:a}=s;switch(t){case Ce:return C(w({},r),{orders:a.orders,totalPages:a.totalPages});case ke:return C(w({},r),{orders:r.orders.filter(o=>o._id!==a)});case Ee:return C(w({},r),{orders:r.orders.map(o=>o._id===a?C(w({},o),{delivered:!0}):o)});default:return r}},Ze=({children:r})=>{const s=Q(),t={orders:[],totalPages:0},[a,o]=d.exports.useReducer(Xe,t),i=async l=>{var c;try{const{data:m}=await E.get(`/api/v1/orders${l}`);o({type:Ce,payload:{orders:m.orders,totalPages:m.totalPages}})}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error getting orders. Try again later or contact support.";b.error(g,{duration:5e3})}},h=async l=>{var c;try{const{data:m}=await E.put(`/api/v1/orders/cancel/${l}`);o({type:ke,payload:l}),b.success(m.msg,{duration:5e3})}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error canceling order. Try again later or contact support.";b.error(g,{duration:5e3})}},x=async l=>{var c;try{const{data:m}=await E.put(`/api/v1/orders/delivery/${l}`);o({type:Ee,payload:l}),b.success(m.msg,{duration:5e3})}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error delivering order. Try again later or contact support.";b.error(g,{duration:5e3})}},u=async l=>{var c;try{const{data:m}=await E.post("/api/v1/orders/new",l);b.success(m.msg,{duration:5e3}),s("/orders")}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error creating order. Try again later or contact support.";b.error(g,{duration:5e3})}};return e(K.Provider,{value:{orders:a.orders,totalPages:a.totalPages,getOrders:i,addOrder:u,cancelOrder:h,deliverOrder:x},children:r})},G=d.exports.createContext({}),et=(r,s)=>{const{type:t,payload:a}=s;switch(t){case ye:return C(w({},r),{products:a,message:null});case be:return C(w({},r),{product:a,message:null});case Ne:return C(w({},r),{products:[...r.products,a],message:null});case ve:return C(w({},r),{products:r.products.filter(o=>o._id!==a),message:null});case we:return C(w({},r),{products:r.products.map(o=>o._id===a._id?a:o),message:null,product:null});default:return r}},tt=({children:r})=>{const s=Q(),t={products:[],product:null},[a,o]=d.exports.useReducer(et,t),i=async()=>{var c;try{const{data:m}=await E.get("/api/v1/products");o({type:ye,payload:m.products})}catch(m){const g=((c=m.response)==null?void 0:c.data.msg)||"Error getting products. Try again later or contact support.";b.error(g,{duration:5e3})}},h=async c=>{var m;try{const{data:p}=await E.get(`/api/v1/products/${c}`);o({type:be,payload:p.product})}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error getting product. Try again later or contact support.";b.error(f,{duration:5e3})}},x=async c=>{var m;try{const{data:p}=await E.post("/api/v1/products/createee",c);o({type:Ne,payload:p.product}),b.success(p.msg,{duration:5e3}),s("/products")}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error adding product. Try again later or contact support.";b.error(f,{duration:5e3})}},u=async c=>{var m;try{const{data:p}=await E.delete(`/api/v1/products/delete/${c}`);o({type:ve,payload:c}),b.success(p.msg,{duration:5e3})}catch(p){const f=((m=p.response)==null?void 0:m.data.msg)||"Error deleting product. Try again later or contact support.";b.error(f,{duration:5e3})}},l=async c=>{var p;try{const m=c,{_id:g}=m,f=Y(m,["_id"]),{data:k}=await E.put(`/api/v1/products/edit/${g}`,f);o({type:we,payload:k.product}),b.success(k.msg,{duration:5e3}),s("/products")}catch(g){const k=((p=g.response)==null?void 0:p.data.msg)||"Error updating product. Try again later or contact support.";b.error(k,{duration:5e3})}};return e(G.Provider,{value:{products:a.products,product:a.product,getProducts:i,getProduct:h,addProduct:x,deleteProduct:u,updateProduct:l},children:r})},N=({variant:r,size:s,label:t,type:a,icon:o,disabled:i,onClick:h,onSubmit:x})=>{const u={button_primary:"bg-blue-600 hover:bg-blue-500 text-white rounded ",button_secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded ",button_danger:"bg-red-600 hover:bg-red-500 text-white rounded "},l={size_normal:"text-sm md:text-lg px-4 py-1",size_small:"text-sm px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},c=u[`button_${r}`]+l[`size_${s}`];return n("button",{type:a,className:`${c} ${i?"opacity-60":""} inline-flex items-center`,disabled:i,onClick:h,onSubmit:x,children:[e("div",{children:o&&e("i",{className:`fas ${o} ${t?"mr-2":""}`})}),t&&e("div",{className:"text-center",children:t})]})},ee=({route:r,text:s,icon:t})=>{const o="text-sm md:text-base uppercase font-medium px-4 py-2 rounded-md mb-2 "+(window.location.pathname===r?"text-gray-200 bg-gray-700 hover:text-gray-700 hover:bg-gray-200":"text-gray-700 bg-gray-200 hover:text-gray-200 hover:bg-gray-700");return n(Ue,{className:o,to:r,children:[e("i",{className:`fas ${t} mr-2 text-lg`+(window.location.pathname!==r?"opacity-75":"text-gray-500")})," ",s]})},rt=()=>{const r=d.exports.useContext(F),{logout:s}=r,[t,a]=d.exports.useState("hidden");return e(y,{children:e("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden bg-white flex flex-wrap border-r-2 border-gray-200 justify-between relative md:w-64 z-1 py-4 shadow-md",children:n("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-2 flex flex-wrap items-center justify-between w-full mx-auto",children:[e("div",{className:"ml-4 md:hidden",children:e(N,{variant:"secondary",size:"small",type:"button",icon:"fa-bars",onClick:()=>a("bg-white m-2 py-3 px-2")})}),e("h1",{className:"hidden md:block uppercase font-semibold text-gray-800 text-base md:text-4xl",children:"Gesin"}),n("div",{className:`md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4
						absolute top-0 left-0 right-0 z-1 overflow-y-auto
						overflow-x-hidden h-auto items-center flex-1 ${t}`,children:[e("div",{className:"md:min-w-full md:hidden block pb-2",children:n("div",{className:"flex flex-wrap",children:[e("div",{className:"w-6/12 uppercase",children:"Gesin"}),e("div",{className:"w-6/12 flex justify-end",children:e(N,{variant:"secondary",size:"small",type:"button",icon:"fa-times",onClick:()=>a("hidden")})})]})}),n("div",{className:"flex flex-col justify-between flex-1 md:mt-6",children:[n("nav",{className:"md:flex-col md:min-w-full flex flex-col list-none mt-2 md:mt-4",children:[e(ee,{route:"/customers",text:"Customers",icon:"fa-people-arrows"}),e(ee,{route:"/products",text:"Products",icon:"fa-boxes"}),e(ee,{route:"/orders",text:"Orders",icon:"fa-folder-open"})]}),e("div",{className:"self-center px-4 -mx-2",children:e(N,{variant:"secondary",size:"normal",label:"Logout",icon:"fa-sign-out-alt",type:"button",onClick:()=>s()})})]})]})]})})})},B=({children:r})=>{let s=Be();localStorage.setItem("last-path",s.pathname);const t=d.exports.useContext(F),{authenticated:a,userAuthenticated:o}=t;return d.exports.useEffect(()=>{o()},[]),a?n(y,{children:[e(rt,{}),e("div",{className:"relative md:ml-64",children:r})]}):e(Me,{to:"/",state:{from:s}})},S=({message:r,type:s,icon:t})=>{const a="flex items-center justify-center w-12",o={alert_success:"bg-green-500 text-white",alert_error:"bg-red-500 text-white",alert_default:"bg-blue-500 text-white"},i={alert_success:"text-green-600",alert_error:"text-red-600",alert_default:"text-blue-600"};return n("div",{className:"flex w-full bg-white shadow-md",children:[e("div",{className:`rounded-l-lg ${a} ${o[`alert_${s}`]}`,children:e("i",{className:`fas ${t} }`})}),e("div",{className:"text-left px-4 py-2",children:e("div",{className:"mx-3",children:e("p",{className:`text-base ${i[`alert_${s}`]}`,children:r})})})]})},M=()=>{const r=d.exports.useContext(F),{user:s,userAuthenticated:t}=r;return d.exports.useEffect(()=>{s||t()},[]),e("header",{className:"py-4 pl-4 md:pl-8 w-full",children:n("h1",{className:"text-xl md:text-2xl font-medium md:font-normal text-green-600",children:["Welcome, ",s==null?void 0:s.name," (",s==null?void 0:s.email,")"]})})},A=({type:r,id:s,name:t,placeholder:a,value:o,onChange:i,onBlur:h})=>e("input",{type:r,id:s,name:t,placeholder:a,className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",value:o,onChange:i,onBlur:h}),_=({isButton:r,icon:s,linkText:t,linkTo:a,size:o,variant:i})=>{const h={button_primary:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white rounded ",button_secondary:"border-2 border-gray-600 text-gray-800 hover:bg-gray-600 hover:text-gray-100 rounded ",button_danger:"border-2 border-red-600 text-red-800 hover:bg-red-600 hover:text-red-100 rounded ",link_primary:"text-blue-600 hover:text-blue-500",link_secondary:"text-gray-600 hover:text-gray-400",link_danger:"text-red-600 hover:text-red-400"},x={size_normal:"text-sm md:text-lg px-4 py-1",size_small:"text-sm px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},l=(r?h[`button_${i}`]:h[`link_${i}`])+x[`size_${o}`]+" inline-flex items-center";return n(Ie,{to:a,className:({isActive:c})=>l+(c?" font-semibold":""),children:[e("div",{children:s&&e("i",{className:`fas ${s} ${t?"mr-2":""}`})}),t&&e("div",{className:"text-center",children:t})]})},at=()=>{const r=d.exports.useContext(j),{addCustomer:s}=r,t=J({initialValues:{firstName:"",lastName:"",company:"",email:"",address:"",phone:""},validationSchema:q({firstName:O().required("First name is required."),lastName:O().required("Last name is required."),company:O().required("Company is required."),email:O().required("Email is required.").email("Invalid email address.")}),onSubmit:a=>{s(a)}});return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Customer"}),n("form",{onSubmit:t.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[n("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(A,{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",value:t.values.firstName,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.firstName&&t.errors.firstName?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.firstName})}):null]}),n("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(A,{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",value:t.values.lastName,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.lastName&&t.errors.lastName?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.lastName})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(A,{type:"text",id:"company",name:"company",placeholder:"Company",value:t.values.company,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.company&&t.errors.company?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.company})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(A,{type:"email",id:"email",name:"email",placeholder:"Email Address",value:t.values.email,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.email&&t.errors.email?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.email})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(A,{type:"text",id:"address",name:"address",placeholder:"Address",value:t.values.address,onChange:t.handleChange,onBlur:t.handleBlur})]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(A,{type:"text",id:"phone",name:"phone",placeholder:"Phone Number",value:t.values.phone,onChange:t.handleChange,onBlur:t.handleBlur})]}),n("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(N,{variant:"primary",size:"normal",label:"Add Customer",type:"submit",icon:"fa-plus"})]})]})]}),e(U,{position:"top-right",reverseOrder:!1})]})},st=({name:r,options:s,placeholder:t,onChange:a})=>e(X,{isMulti:!0,name:r,options:s,className:"basic-multi-select",classNamePrefix:"select",placeholder:t,onChange:a}),nt=({id:r,name:s,min:t,max:a,value:o,product:i,onChange:h})=>n("div",{className:"flex items-center justify-between gap-4",children:[n("label",{htmlFor:r,children:[i,":"]}),e("input",{className:"rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-1 px-3 duration-200 ease-in-out",type:"number",id:r,name:s,min:t,max:a,placeholder:"Quantity",value:o,onChange:h})]}),ot=()=>{const{customers:r,getCustomers:s}=d.exports.useContext(j),{addOrder:t}=d.exports.useContext(K),{products:a,getProducts:o}=d.exports.useContext(G),[i,h]=d.exports.useState([]),[x,u]=d.exports.useState([]),[l,c]=d.exports.useState([]),[m,p]=d.exports.useState(""),[g,f]=d.exports.useState(0);d.exports.useEffect(()=>{s(),o()},[]),d.exports.useEffect(()=>{const v=r.map(({_id:P,firstName:z,lastName:I})=>({value:`${P}`,label:`${z} ${I}`})),T=a.map(({_id:P,name:z,stock:I,price:H})=>({value:`${P}`,label:`${z} ($${H}) - ${I}`,price:H}));h(v),u(T)},[r,a]),d.exports.useEffect(()=>{const v=l.reduce((T,{price:P,quantity:z})=>T+P*z,0);f(v)},[l]);const k=v=>{p((v==null?void 0:v.value)||"")},R=v=>{v&&c(v.map(({value:T,label:P})=>{var z;return{product:T,quantity:1,label:P,price:((z=x.find(({value:I})=>I===T))==null?void 0:z.price)||0}}))},D=v=>{v.target.valueAsNumber>100&&v.target.valueAsNumber<=0&&!isNaN(v.target.valueAsNumber)||c(T=>T.map(P=>P.product===v.target.name?C(w({},P),{quantity:v.target.valueAsNumber}):P))};return n(y,{children:[e(M,{}),n("main",{className:"w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"New Order"}),n("form",{onSubmit:v=>{v.preventDefault();const T=l.map(Ct=>{var re=Ct,{label:z,price:I}=re,H=Y(re,["label","price"]);return H});t({client:m,details:T})},className:"mt-4 px-4",children:[e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2",children:e("h3",{className:"text-gray-100",children:"Select Customer"})}),e(X,{name:"customers",options:i,className:"basic-multi-select mt-2",classNamePrefix:"select",onChange:k,placeholder:"Select a customer"}),e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2 mt-8",children:e("h3",{className:"text-gray-100",children:"Select Products and Quantities"})}),n("section",{className:"grid gap-8 grid-cols-12 mt-2",children:[e("div",{className:"col-span-12 md:col-span-6",children:e(st,{name:"products",options:x,onChange:R,placeholder:"Select product(s)"})}),e("div",{className:"col-span-12 md:col-span-6",children:l.map(({product:v,quantity:T,label:P})=>e("div",{className:"mb-2",children:e(nt,{id:v,name:v,value:T,min:1,max:100,product:P,onChange:D})},v))})]}),e("section",{className:"w-full bg-gray-100 shadow-md rounded-md px-4 py-2 mt-8",children:n("h2",{className:"text-lg md:text-xl font-medium text-green-700",children:["Total: $",g.toFixed(2)]})}),n("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/orders",size:"normal",variant:"danger"}),e(N,{variant:"primary",size:"normal",label:"Create Order",type:"submit",icon:"fa-plus",disabled:!m||!l.length})]})]})]}),e(U,{position:"top-right",reverseOrder:!1})]})},lt=()=>{const r=d.exports.useContext(G),{addProduct:s}=r,t=J({initialValues:{name:"",stock:"",price:""},validationSchema:q({name:O().required("Product Name is required."),stock:W().required("Product Stock is required.").typeError("You must specify a number.").min(1,"Min value for stock is 1.").integer("Stock must be an integer."),price:W().required("Product Price is required.").typeError("You must specify a number.").min(1,"Min value for price is 1.")}),onSubmit:a=>{const o={name:a.name,stock:Number(a.stock),price:Number(a.price)};s(o)}});return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Product"}),n("form",{onSubmit:t.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(A,{type:"text",id:"name",name:"name",placeholder:"Product Name",value:t.values.name,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.name&&t.errors.name?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.name})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(A,{type:"text",id:"stock",name:"stock",placeholder:"Product Stock",value:t.values.stock,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.stock&&t.errors.stock?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.stock})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(A,{type:"text",id:"price",name:"price",placeholder:"Product Price",value:t.values.price,onChange:t.handleChange,onBlur:t.handleBlur}),t.touched.price&&t.errors.price?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:t.errors.price})}):null]}),n("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(N,{variant:"primary",size:"normal",label:"Add Product",type:"submit",icon:"fa-plus"})]})]})]}),e(U,{position:"top-right",reverseOrder:!1})]})},Te=({id:r,setId:s,onDelete:t,setShowModal:a})=>n(y,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:n("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[n("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:"Delete"}),e(N,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{a(!1),s("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:"Are you sure you want to delete the record? This action can't be undone."}),n("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(N,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{a(!1),s("")}}),e(N,{variant:"danger",size:"normal",label:"Yes, Delete",type:"button",icon:"fa-trash",onClick:()=>t(r)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),ct=({currentPage:r,totalRecords:s,setCurrentPage:t,paginate:a})=>{let o=[];if(s!==1){for(let i=1;i<=s;i++)o.push(e(N,{variant:"primary",size:"small",type:"button",label:`${i}`,disabled:i===r,onClick:()=>{t(i),a(i)}},i));return e(y,{children:o})}},te=({page:r,totalRecords:s,paginate:t})=>{const[a,o]=d.exports.useState(r);return d.exports.useEffect(()=>{o(r)},[r]),s===1?e(y,{}):n("section",{className:"flex gap-1",children:[e(N,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-left",disabled:a===1,onClick:()=>{o(a-1),t(a-1)}}),ct({currentPage:a,totalRecords:s,setCurrentPage:o,paginate:t}),e(N,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-right",disabled:a===s,onClick:()=>{o(a+1),t(a+1)}})]})},Oe=({headings:r,content:s})=>e("div",{className:"bg-white shadow-lg rounded-sm border border-gray-200",children:e("div",{className:"p-3",children:e("div",{className:"overflow-x-auto",children:n("table",{className:"table-auto w-full",children:[e("thead",{className:"text-xs font-semibold uppercase text-gray-400 bg-gray-50",children:e("tr",{children:r.map((t,a)=>e("th",{className:"p-2 whitespace-nowrap",children:e("div",{className:"font-semibold text-left",children:t})},`${t.replace(/\s/g,"").toLowerCase()}-${a}`))})}),e("tbody",{className:"text-sm divide-y divide-gray-200",children:s})]})})})}),it=(r,s,t)=>r.map(({_id:a,firstName:o,lastName:i,company:h,email:x,address:u,phone:l})=>n("tr",{children:[n("td",{className:"p-2 whitespace-nowrap",children:[o," ",i]}),e("td",{className:"p-2 whitespace-nowrap",children:h}),n("td",{className:"p-2 whitespace-nowrap",children:[n("p",{className:"items-center",children:[e("i",{className:"fas fa-envelope mr-2"}),x]}),l&&n("p",{className:"items-center mt-2",children:[e("i",{className:"fas fa-phone mr-2"}),l]})]}),e("td",{className:"p-2 whitespace-nowrap",children:u&&u.length>25?u.substring(0,30)+"...":u}),n("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(N,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{s(!0),t(a)}}),e(_,{isButton:!0,linkText:"Edit",linkTo:`/customers/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),dt=()=>{const r=d.exports.useContext(j),{customers:s,deleteCustomer:t,getCustomers:a}=r,o=2,[i,h]=d.exports.useState(!1),[x,u]=d.exports.useState(""),[l,c]=d.exports.useState(1);d.exports.useEffect(()=>{a()},[]);const m=d.exports.useCallback(R=>{t(R),h(!1),c(1)},[]),p=R=>c(R),g=l*o,f=g-o,k=s.slice(f,g);return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:s.length===0?n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Customers"}),e(_,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]}):n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Customers"}),e(_,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]})}),s.length>0&&n(y,{children:[e("section",{className:"mt-4",children:e(Oe,{headings:["Name","Company","Contact","Address","Options"],content:it(k,h,u)})}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:l,totalRecords:Math.ceil(s.length/o),paginate:p})})]})]}),i?e(Te,{id:x,setId:u,onDelete:m,setShowModal:h}):null,e(U,{position:"top-right",reverseOrder:!1})]})},mt=()=>{const r=oe(),s=d.exports.useContext(j),{customer:t,getCustomer:a,updateCustomer:o}=s,i={firstName:"",lastName:"",company:"",email:"",address:"",phone:""},h=q().shape({firstName:O().required("First name is required."),lastName:O().required("Last name is required."),company:O().required("Company is required."),email:O().required("Email is required.").email("Invalid email address.")}),x=u=>{const l=w({_id:r.id},u);o(l)};return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&n("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Customer: ",`${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName}`]}),e(le,{initialValues:i,validationSchema:h,onSubmit:x,children:({errors:u,touched:l,setFieldValue:c})=>{if(d.exports.useEffect(()=>{a(r.id)},[]),d.exports.useEffect(()=>{t&&(c("firstName",t.firstName,!1),c("lastName",t.lastName,!1),c("company",t.company,!1),c("email",t.email,!1),c("address",t.address,!1),c("phone",t.phone,!1))},[t]),t)return n(ce,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[n("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(L,{type:"text",name:"firstName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"First Name"}),l.firstName&&u.firstName?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.firstName})}):null]}),n("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(L,{type:"text",name:"lastName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Last Name"}),l.lastName&&u.lastName?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.lastName})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(L,{type:"text",name:"company",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Company"}),l.company&&u.company?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.company})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(L,{type:"email",name:"email",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Email Address"}),l.email&&u.email?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.email})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(L,{type:"text",name:"address",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Address"})]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(L,{type:"text",name:"phone",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Phone Number"})]}),n("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(N,{variant:"primary",size:"normal",label:"Edit Customer",type:"submit",icon:"fa-edit"})]})]})}})]}),e(U,{position:"top-right",reverseOrder:!1})]})},ut=()=>{const r=oe(),s=d.exports.useContext(G),{product:t,getProduct:a,updateProduct:o}=s,i={name:"",stock:0,price:0},h=q().shape({name:O().required("Product Name is required."),stock:W().required("Product Stock is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.").integer("Stock must be an integer."),price:W().required("Product Price is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.")}),x=u=>{const l={_id:r.id,name:u.name,stock:Number(u.stock),price:Number(u.price)};o(l)};return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&n("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Product: ",t==null?void 0:t.name]}),e(le,{initialValues:i,validationSchema:h,onSubmit:x,children:({errors:u,touched:l,setFieldValue:c})=>{if(d.exports.useEffect(()=>{a(r.id)},[]),d.exports.useEffect(()=>{t&&(c("name",t.name,!1),c("stock",t.stock,!1),c("price",t.price,!1))},[t]),t)return n(ce,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(L,{type:"text",name:"name",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Name"}),l.name&&u.name?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.name})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(L,{type:"text",name:"stock",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Stock"}),l.stock&&u.stock?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.stock})}):null]}),n("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(L,{type:"text",name:"price",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Price"}),l.price&&u.price?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:u.price})}):null]}),n("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(N,{variant:"primary",size:"normal",label:"Edit Product",type:"submit",icon:"fa-edit"})]})]})}})]}),e(U,{position:"top-right",reverseOrder:!1})]})},pt=()=>{const r=Q(),s=d.exports.useContext(_e),t=d.exports.useContext(F),{msg:a,type:o,showAlert:i}=s,{authenticated:h,message:x,login:u}=t;d.exports.useEffect(()=>{h&&r(localStorage.getItem("last-path")||"/customers"),x&&i(x.msg,x.type)},[h,x]);const l=J({initialValues:{email:"cristiancbtis130@gmail.com",password:"12345678"},validationSchema:q({email:O().required("Email is required.").email("Email is invalid."),password:O().required("Password is required.").min(8,"Password must be at least 8 characters.")}),onSubmit:c=>{u(c)}});return e("div",{className:"flex justify-center items-center h-screen bg-gray-700",children:n("div",{className:"p-4 md:px-8 md:py-6 shadow-lg bg-white rounded w-9/12 md:w-1/2",children:[e("h2",{className:"text-2xl md:text-4xl font-semibold text-center text-gray-700",children:"Gesin"}),e("h3",{className:"mt-2 text-base md:text-lg font-light text-center text-gray-600",children:"Welcome Back"}),e("div",{className:"my-3",children:a&&o?e(S,{message:a,type:o,icon:"fa-exclamation-triangle"}):null}),n("form",{onSubmit:l.handleSubmit,children:[n("div",{className:"w-full mt-4",children:[e(A,{type:"email",id:"email",name:"email",placeholder:"Email",value:l.values.email,onChange:l.handleChange,onBlur:l.handleBlur}),l.touched.email&&l.errors.email?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:l.errors.email})}):null]}),n("div",{className:"w-full mt-4",children:[e(A,{type:"password",id:"password",name:"password",placeholder:"Password",value:l.values.password,onChange:l.handleChange,onBlur:l.handleBlur}),l.touched.password&&l.errors.password?e("div",{className:"w-full my-2",children:e(S,{type:"error",icon:"fa-exclamation-triangle",message:l.errors.password})}):null]}),e("div",{className:"flex items-center justify-end mt-4",children:e(N,{variant:"primary",size:"normal",label:"Login",type:"submit",icon:"fa-sign-in-alt"})})]})]})})},ht=()=>e("h1",{children:"Not Found"}),Re=({type:r,id:s,setId:t,onAction:a,setShowModal:o})=>n(y,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:n("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[n("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:r==="cancel"?"Cancel Order":"Deliver Order"}),e(N,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{o(!1),t("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:r==="cancel"?"Are you sure you want to cancel this order?":"Are you sure you want to deliver this order?"}),n("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(N,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{o(!1),t("")}}),e(N,{variant:r==="cancel"?"danger":"primary",size:"normal",label:r==="cancel"?"Cancel Order":"Deliver Order",type:"button",icon:r==="cancel"?"fa-ban":"fa-truck-loading",onClick:()=>a(s)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),xt=({order:r})=>{const s=d.exports.useContext(K),{cancelOrder:t,deliverOrder:a}=s,[o,i]=d.exports.useState(!1),[h,x]=d.exports.useState(!1),[u,l]=d.exports.useState(""),c=d.exports.useCallback(D=>{t(D),i(!1)},[]),m=d.exports.useCallback(D=>{a(D),x(!1)},[]),{client:p,details:g,total:f,delivered:k}=r,R=`border-2 rounded ${k?"border-green-600":"border-blue-600"}`;return n(y,{children:[n("div",{className:`animate__animated animate__fadeIn grid gap-4 grid-cols-12 py-2 px-3 md:px-4 ${R}`,children:[n("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-5",children:[n("h1",{className:"mb-2 text-lg md:text-xl text-yellow-600 font-medium tracking-wide",children:["Customer: ",`${p.firstName} ${p.lastName}`]}),n("p",{className:"mb-2 font-light",children:["E-mail: ",p.email]}),n("p",{className:"mb-2 font-light",children:["Phone: ",p.phone?p.phone:"No phone"]}),n("p",{className:"font-light",children:["Address: ",p.address?p.address:"No address"]})]}),n("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-7",children:[e("h1",{className:"mb-2 text-lg md:text-xl text-yellow-600 font-medium tracking-wide",children:"Resume"}),g.map(D=>n("article",{className:"flex flex-col gap-1 font-light mb-2 border border-gray-500 rounded p-2 px-3",children:[n("p",{children:[e("strong",{children:"Product: "}),D.product.name]}),n("p",{children:[e("strong",{children:"Quantity: "}),D.quantity]}),n("p",{children:[e("strong",{children:"Price: "}),D.product.price]})]},D._id)),n("p",{className:"mt-4 text-green-800 text-lg md:text-2xl font-medium",children:["Total: $",f]})]}),e("div",{className:"px-1 md:px-3 mb-0 md:mb-1 col-span-12",children:k?e("h1",{className:"uppercase text-green-700 text-lg md:text-2xl",children:"Order Delivered"}):n("div",{className:"flex gap-2",children:[e("div",{children:e(N,{variant:"danger",size:"normal",label:"Cancel Order",type:"button",icon:"fa-ban",onClick:()=>{i(!0),l(r._id)}})}),e("div",{children:e(N,{variant:"primary",size:"normal",label:"Deliver Order",type:"button",icon:"fa-truck-loading",onClick:()=>{x(!0),l(r._id)}})})]})})]}),o?e(Re,{type:"cancel",id:u,setId:l,onAction:c,setShowModal:i}):null,h?e(Re,{type:"deliver",id:u,setId:l,onAction:m,setShowModal:x}):null]})},gt=[{value:"",label:"All Orders"},{value:!1,label:"Not Delivered"},{value:!0,label:"Delivered"}],ft=()=>{const r=d.exports.useContext(K),{orders:s,totalPages:t,getOrders:a}=r,o=2,[i,h]=d.exports.useState(1),[x,u]=d.exports.useState(""),[l,c]=d.exports.useState(`?page=1&size=${o}`);s.length===0&&a(`?page=1&size=${o}`),d.exports.useEffect(()=>{a(l)},[l]);const m=f=>{c(`?page=${f}&size=${o}&delivered=${x}`),h(f)},p=f=>{u(f==null?void 0:f.value)},g=f=>{f.preventDefault(),c(x===!1||x===!0?`?page=1&size=${o}&delivered=${x}`:`?page=1&size=${o}`)};return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:s.length===0?n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Orders"}),e(_,{isButton:!0,linkText:"Create Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]}):n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Orders"}),e(_,{isButton:!0,linkText:"New Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]})}),s.length>0&&n(y,{children:[n("form",{onSubmit:g,className:"flex items-center justify-between px-5 py-4 shadow-md rounded",children:[e(X,{name:"clients",options:gt,className:"basic-single",classNamePrefix:"select",onChange:p,placeholder:"Select an option"}),e("div",{className:"flex gap-3",children:e(N,{variant:"primary",size:"normal",label:"Search",type:"submit",icon:"fa-search"})})]}),e("section",{className:"mt-4 flex flex-col gap-4",children:s.map(f=>e(d.exports.Fragment,{children:e(xt,{order:f})},f._id))}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:i,totalRecords:t,paginate:m})})]})]}),e(U,{position:"top-right",reverseOrder:!1})]})},yt=(r,s,t)=>r.map(({_id:a,name:o,stock:i,price:h})=>n("tr",{children:[e("td",{className:"p-2 whitespace-nowrap",children:o}),e("td",{className:"p-2 whitespace-nowrap",children:i}),n("td",{className:"p-2 whitespace-nowrap",children:["$ ",h]}),n("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(N,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{s(!0),t(a)}}),e(_,{isButton:!0,linkText:"Edit",linkTo:`/products/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),bt=()=>{const r=d.exports.useContext(G),{products:s,deleteProduct:t,getProducts:a}=r,o=2,[i,h]=d.exports.useState(!1),[x,u]=d.exports.useState(""),[l,c]=d.exports.useState(1);d.exports.useEffect(()=>{a()},[]);const m=d.exports.useCallback(R=>{t(R),h(!1),c(1)},[]),p=R=>c(R),g=l*o,f=g-o,k=s.slice(f,g);return n(y,{children:[e(M,{}),n("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:s.length===0?n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Products"}),e(_,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]}):n(y,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Products"}),e(_,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]})}),s.length>0&&n(y,{children:[e("section",{className:"mt-4",children:e(Oe,{headings:["Name","Stock","Price","Options"],content:yt(k,h,u)})}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:l,totalRecords:Math.ceil(s.length/o),paginate:p})})]})]}),i?e(Te,{id:x,setId:u,onDelete:m,setShowModal:h}):null,e(U,{position:"top-right",reverseOrder:!1})]})},Nt=()=>n(qe,{children:[e($,{path:"/",element:e(pt,{})}),e($,{path:"/customers",element:e(B,{children:e(dt,{})})}),e($,{path:"/customers/edit/:id",element:e(B,{children:e(mt,{})})}),e($,{path:"/customers/new",element:e(B,{children:e(at,{})})}),e($,{path:"/products",element:e(B,{children:e(bt,{})})}),e($,{path:"/products/new",element:e(B,{children:e(lt,{})})}),e($,{path:"/products/edit/:id",element:e(B,{children:e(ut,{})})}),e($,{path:"/orders",element:e(B,{children:e(ft,{})})}),e($,{path:"/orders/new",element:e(B,{children:e(ot,{})})}),e($,{path:"*",element:e(ht,{})})]}),Ae=sessionStorage.getItem("admin-token");Ae&&ie(Ae);function vt(){return e(We,{children:e(Ye,{children:e(Je,{children:e(tt,{children:e(Ze,{children:e(Nt,{})})})})})})}Fe.render(e(je.StrictMode,{children:e(Ge,{children:e(vt,{})})}),document.getElementById("root"));
