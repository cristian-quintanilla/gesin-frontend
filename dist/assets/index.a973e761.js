var $e=Object.defineProperty,ze=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var oe=(t,r,n)=>r in t?$e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,C=(t,r)=>{for(var n in r||(r={}))se.call(r,n)&&oe(t,n,r[n]);if(V)for(var n of V(r))ne.call(r,n)&&oe(t,n,r[n]);return t},k=(t,r)=>ze(t,Le(r));var Y=(t,r)=>{var n={};for(var a in t)se.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&V)for(var a of V(t))r.indexOf(a)<0&&ne.call(t,a)&&(n[a]=t[a]);return n};import{a as Ue,r as l,j as e,u as Q,t as N,b as s,L as Be,F as b,c as Ie,N as Me,d as qe,e as J,f as q,g as R,T as L,S as X,h as W,i as le,k as ce,l as ie,m as z,R as je,n as D,o as Fe,p as Ge,B as He}from"./vendor.8faa4c83.js";const Ve=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};Ve();const E=Ue.create({baseURL:"https://gesin.herokuapp.com"}),de=t=>{t?E.defaults.headers.common["x-auth-token"]=t:delete E.defaults.headers.common["x-auth-token"]},me="[AUTH] ADMIN_LOGIN_SUCCESS",Z="[AUTH] ADMIN_LOGIN_ERROR",ue="[AUTH] ADMIN_LOGOUT",pe="[AUTH] GET_USER",he="[CUSTOMERS] GET_CUSTOMERS",ge="[CUSTOMERS] GET_CUSTOMER",xe="[CUSTOMERS] ADD_CUSTOMER",fe="[CUSTOMERS] DELETE_CUSTOMER",ye="[CUSTOMERS] UPDATE_CUSTOMER",be="[PRODUCTS] GET_PRODUCTS",Ne="[PRODUCTS] GET_PRODUCT",ve="[PRODUCTS] ADD_PRODUCT",we="[PRODUCTS] DELETE_PRODUCT",Ce="[PRODUCTS] UPDATE_PRODUCT",ke="[ORDERS] GET_ORDERS",Se="[ORDERS] CANCEL_ORDER",Ee="[ORDERS] DELIVER_ORDER",Pe="[ALERT] SHOW_ALERT",_e="[ALERT] HIDE_ALERT",Te=l.exports.createContext({}),Ye=(t,r)=>{const{type:n,payload:a}=r;switch(n){case Pe:return{msg:a.msg,type:a.type};case _e:return{msg:null,type:null};default:return t}},Qe=({children:t})=>{const[r,n]=l.exports.useReducer(Ye,{msg:"",type:""}),a=(o,c)=>{n({type:Pe,payload:{msg:o,type:c}}),setTimeout(()=>{n({type:_e})},4e3)};return e(Te.Provider,{value:{msg:r.msg,type:r.type,showAlert:a},children:t})},j=l.exports.createContext({}),We=(t,r)=>{const{type:n,payload:a}=r;switch(n){case me:return sessionStorage.setItem("auth-token",a.token),k(C({},t),{authenticated:!0,message:null});case Z:case ue:return sessionStorage.removeItem("auth-token"),k(C({},t),{authenticated:null,message:a,token:null,user:null});case pe:return k(C({},t),{authenticated:!0,user:a});default:return t}},Ke=({children:t})=>{const r={token:typeof window!="undefined"?sessionStorage.getItem("auth-token"):"",authenticated:null,message:null,user:null},[n,a]=l.exports.useReducer(We,r),o=async m=>{var h;try{const i=await E.post("/api/v1/auth/login",m);a({type:me,payload:i.data}),c()}catch(i){const x={msg:((h=i.response)==null?void 0:h.data.msg)||"Network Error",type:"error"};a({type:Z,payload:x})}},c=async()=>{const m=sessionStorage.getItem("auth-token");m&&de(m);try{const h=await E.get("/api/v1/auth/me");a({type:pe,payload:h.data.user})}catch{a({type:Z,payload:null})}},g=()=>{a({type:ue})};return e(j.Provider,{value:{token:n.token,authenticated:n.authenticated,message:n.message,user:n.user,login:o,userAuthenticated:c,logout:g},children:t})},F=l.exports.createContext({}),Je=(t,r)=>{const{type:n,payload:a}=r;switch(n){case he:return k(C({},t),{customers:a});case ge:return k(C({},t),{customer:a,message:null});case xe:return k(C({},t),{customers:[...t.customers,a]});case fe:return k(C({},t),{customers:t.customers.filter(o=>o._id!==a)});case ye:return k(C({},t),{customers:t.customers.map(o=>o._id===a._id?a:o),customer:null});default:return t}},Xe=({children:t})=>{const r=Q(),n={customers:[],customer:null},[a,o]=l.exports.useReducer(Je,n),c=async()=>{var u;try{const{data:d}=await E.get("/api/v1/customers");o({type:he,payload:d.customers})}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error getting customers. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async u=>{var d;try{const{data:p}=await E.get(`/api/v1/customers/${u}`);o({type:ge,payload:p.customer})}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error getting customer. Try again later or contact support.";N.error(y,{duration:5e3})}},m=async u=>{var d;try{const{data:p}=await E.post("/api/v1/customers/create",u);o({type:xe,payload:p.customer}),N.success(p.msg,{duration:5e3}),r("/customers")}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error adding customer. Try again later or contact support.";N.error(y,{duration:5e3})}},h=async u=>{var d;try{const{data:p}=await E.delete(`/api/v1/customers/delete/${u}`);o({type:fe,payload:u}),N.success(p.msg,{duration:5e3})}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error deleting customer. Try again later or contact support.";N.error(y,{duration:5e3})}},i=async u=>{var p;try{const d=u,{_id:x}=d,y=Y(d,["_id"]),{data:f}=await E.put(`/api/v1/customers/edit/${x}`,y);o({type:ye,payload:f.customer}),N.success(f.msg,{duration:5e3}),r("/customers")}catch(x){const f=((p=x.response)==null?void 0:p.data.msg)||"Error updating customer. Try again later or contact support.";N.error(f,{duration:5e3})}};return e(F.Provider,{value:{customers:a.customers,customer:a.customer,getCustomers:c,getCustomer:g,addCustomer:m,deleteCustomer:h,updateCustomer:i},children:t})},K=l.exports.createContext({}),Ze=(t,r)=>{const{type:n,payload:a}=r;switch(n){case ke:return k(C({},t),{orders:a.orders,totalPages:a.totalPages});case Se:return k(C({},t),{orders:t.orders.filter(o=>o._id!==a)});case Ee:return k(C({},t),{orders:t.orders.map(o=>o._id===a?k(C({},o),{delivered:!0}):o)});default:return t}},et=({children:t})=>{const r=Q(),n={orders:[],totalPages:0},[a,o]=l.exports.useReducer(Ze,n),c=async i=>{var u;try{const{data:d}=await E.get(`/api/v1/orders${i}`);o({type:ke,payload:{orders:d.orders,totalPages:d.totalPages}})}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error getting orders. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async i=>{var u;try{const{data:d}=await E.put(`/api/v1/orders/cancel/${i}`);o({type:Se,payload:i}),N.success(d.msg,{duration:5e3})}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error canceling order. Try again later or contact support.";N.error(x,{duration:5e3})}},m=async i=>{var u;try{const{data:d}=await E.put(`/api/v1/orders/delivery/${i}`);o({type:Ee,payload:i}),N.success(d.msg,{duration:5e3})}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error delivering order. Try again later or contact support.";N.error(x,{duration:5e3})}},h=async i=>{var u;try{const{data:d}=await E.post("/api/v1/orders/new",i);N.success(d.msg,{duration:5e3}),r("/orders")}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error creating order. Try again later or contact support.";N.error(x,{duration:5e3})}};return e(K.Provider,{value:{orders:a.orders,totalPages:a.totalPages,getOrders:c,addOrder:h,cancelOrder:g,deliverOrder:m},children:t})},G=l.exports.createContext({}),tt=(t,r)=>{const{type:n,payload:a}=r;switch(n){case be:return k(C({},t),{products:a,message:null});case Ne:return k(C({},t),{product:a,message:null});case ve:return k(C({},t),{products:[...t.products,a],message:null});case we:return k(C({},t),{products:t.products.filter(o=>o._id!==a),message:null});case Ce:return k(C({},t),{products:t.products.map(o=>o._id===a._id?a:o),message:null,product:null});default:return t}},rt=({children:t})=>{const r=Q(),n={products:[],product:null},[a,o]=l.exports.useReducer(tt,n),c=async()=>{var u;try{const{data:d}=await E.get("/api/v1/products");o({type:be,payload:d.products})}catch(d){const x=((u=d.response)==null?void 0:u.data.msg)||"Error getting products. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async u=>{var d;try{const{data:p}=await E.get(`/api/v1/products/${u}`);o({type:Ne,payload:p.product})}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error getting product. Try again later or contact support.";N.error(y,{duration:5e3})}},m=async u=>{var d;try{const{data:p}=await E.post("/api/v1/products/createee",u);o({type:ve,payload:p.product}),N.success(p.msg,{duration:5e3}),r("/products")}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error adding product. Try again later or contact support.";N.error(y,{duration:5e3})}},h=async u=>{var d;try{const{data:p}=await E.delete(`/api/v1/products/delete/${u}`);o({type:we,payload:u}),N.success(p.msg,{duration:5e3})}catch(p){const y=((d=p.response)==null?void 0:d.data.msg)||"Error deleting product. Try again later or contact support.";N.error(y,{duration:5e3})}},i=async u=>{var p;try{const d=u,{_id:x}=d,y=Y(d,["_id"]),{data:f}=await E.put(`/api/v1/products/edit/${x}`,y);o({type:Ce,payload:f.product}),N.success(f.msg,{duration:5e3}),r("/products")}catch(x){const f=((p=x.response)==null?void 0:p.data.msg)||"Error updating product. Try again later or contact support.";N.error(f,{duration:5e3})}};return e(G.Provider,{value:{products:a.products,product:a.product,getProducts:c,getProduct:g,addProduct:m,deleteProduct:h,updateProduct:i},children:t})},v=({variant:t,size:r,label:n,type:a,icon:o,disabled:c,onClick:g,onSubmit:m})=>{const h={button_primary:"bg-blue-600 hover:bg-blue-500 text-white rounded ",button_secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded ",button_danger:"bg-red-600 hover:bg-red-500 text-white rounded "},i={size_normal:"text-sm md:text-lg px-4 py-1",size_small:"text-sm px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},u=h[`button_${t}`]+i[`size_${r}`];return s("button",{type:a,className:`${u} ${c?"opacity-60":""} inline-flex items-center`,disabled:c,onClick:g,onSubmit:m,children:[e("div",{children:o&&e("i",{className:`fas ${o} ${n?"mr-2":""}`})}),n&&e("div",{className:"text-center",children:n})]})},ee=({route:t,text:r,icon:n})=>{const o="text-sm md:text-base uppercase font-medium px-4 py-2 rounded-md mb-2 "+(window.location.pathname===t?"text-gray-200 bg-gray-700 hover:text-gray-700 hover:bg-gray-200":"text-gray-700 bg-gray-200 hover:text-gray-200 hover:bg-gray-700");return s(Be,{className:o,to:t,children:[e("i",{className:`fas ${n} mr-2 text-lg`+(window.location.pathname!==t?"opacity-75":"text-gray-500")})," ",r]})},at=()=>{const t=l.exports.useContext(j),{logout:r}=t,[n,a]=l.exports.useState("hidden");return e(b,{children:e("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden bg-white flex flex-wrap border-r-2 border-gray-200 justify-between relative md:w-64 z-1 py-4 shadow-md",children:s("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-2 flex flex-wrap items-center justify-between w-full mx-auto",children:[e("div",{className:"ml-4 md:hidden",children:e(v,{variant:"secondary",size:"small",type:"button",icon:"fa-bars",onClick:()=>a("bg-white m-2 py-3 px-2")})}),e("h1",{className:"hidden md:block uppercase font-semibold text-gray-800 text-base md:text-4xl",children:"Gesin"}),s("div",{className:`md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4
						absolute top-0 left-0 right-0 z-1 overflow-y-auto
						overflow-x-hidden h-auto items-center flex-1 ${n}`,children:[e("div",{className:"md:min-w-full md:hidden block pb-2",children:s("div",{className:"flex flex-wrap",children:[e("div",{className:"w-6/12 uppercase",children:"Gesin"}),e("div",{className:"w-6/12 flex justify-end",children:e(v,{variant:"secondary",size:"small",type:"button",icon:"fa-times",onClick:()=>a("hidden")})})]})}),s("div",{className:"flex flex-col justify-between flex-1 md:mt-6",children:[s("nav",{className:"md:flex-col md:min-w-full flex flex-col list-none mt-2 md:mt-4",children:[e(ee,{route:"/customers",text:"Customers",icon:"fa-people-arrows"}),e(ee,{route:"/products",text:"Products",icon:"fa-boxes"}),e(ee,{route:"/orders",text:"Orders",icon:"fa-folder-open"})]}),e("div",{className:"self-center px-4 -mx-2",children:e(v,{variant:"secondary",size:"normal",label:"Logout",icon:"fa-sign-out-alt",type:"button",onClick:()=>r()})})]})]})]})})})},U=({children:t})=>{let r=Ie();localStorage.setItem("last-path",r.pathname);const n=l.exports.useContext(j),{authenticated:a,userAuthenticated:o}=n;return l.exports.useEffect(()=>{o()},[]),a?s(b,{children:[e(at,{}),e("div",{className:"relative md:ml-64",children:t})]}):e(Me,{to:"/",state:{from:r}})},P=({message:t,type:r,icon:n})=>{const a="flex items-center justify-center w-12",o={alert_success:"bg-green-500 text-white",alert_error:"bg-red-500 text-white",alert_default:"bg-blue-500 text-white"},c={alert_success:"text-green-600",alert_error:"text-red-600",alert_default:"text-blue-600"};return s("div",{className:"flex w-full bg-white shadow-md",children:[e("div",{className:`rounded-l-lg ${a} ${o[`alert_${r}`]}`,children:e("i",{className:`fas ${n} }`})}),e("div",{className:"text-left px-4 py-2",children:e("div",{className:"mx-3",children:e("p",{className:`text-base ${c[`alert_${r}`]}`,children:t})})})]})},B=()=>{const t=l.exports.useContext(j),{user:r,userAuthenticated:n}=t;return l.exports.useEffect(()=>{r||n()},[]),e("header",{className:"py-4 pl-4 md:pl-8 w-full",children:s("h1",{className:"text-xl md:text-2xl font-medium md:font-normal text-green-600",children:["Welcome, ",r==null?void 0:r.name," (",r==null?void 0:r.email,")"]})})},A=({type:t,id:r,name:n,placeholder:a,value:o,onChange:c,onBlur:g})=>e("input",{type:t,id:r,name:n,placeholder:a,className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",value:o,onChange:c,onBlur:g}),T=({isButton:t,icon:r,linkText:n,linkTo:a,size:o,variant:c})=>{const g={button_primary:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white rounded ",button_secondary:"border-2 border-gray-600 text-gray-800 hover:bg-gray-600 hover:text-gray-100 rounded ",button_danger:"border-2 border-red-600 text-red-800 hover:bg-red-600 hover:text-red-100 rounded ",link_primary:"text-blue-600 hover:text-blue-500",link_secondary:"text-gray-600 hover:text-gray-400",link_danger:"text-red-600 hover:text-red-400"},m={size_normal:"text-sm md:text-lg px-4 py-1",size_small:"text-sm px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},i=(t?g[`button_${c}`]:g[`link_${c}`])+m[`size_${o}`]+" inline-flex items-center";return s(qe,{to:a,className:({isActive:u})=>i+(u?" font-semibold":""),children:[e("div",{children:r&&e("i",{className:`fas ${r} ${n?"mr-2":""}`})}),n&&e("div",{className:"text-center",children:n})]})},st=()=>{const{addCustomer:t}=l.exports.useContext(F),r=J({initialValues:{firstName:"",lastName:"",company:"",email:"",address:"",phone:""},validationSchema:q({firstName:R().required("First name is required."),lastName:R().required("Last name is required."),company:R().required("Company is required."),email:R().required("Email is required.").email("Invalid email address.")}),onSubmit:n=>{t(n)}});return s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Customer"}),s("form",{onSubmit:r.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(A,{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",value:r.values.firstName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.firstName&&r.errors.firstName?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.firstName})}):null]}),s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(A,{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",value:r.values.lastName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.lastName&&r.errors.lastName?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.lastName})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(A,{type:"text",id:"company",name:"company",placeholder:"Company",value:r.values.company,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.company&&r.errors.company?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.company})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(A,{type:"email",id:"email",name:"email",placeholder:"Email Address",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.email&&r.errors.email?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.email})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(A,{type:"text",id:"address",name:"address",placeholder:"Address",value:r.values.address,onChange:r.handleChange,onBlur:r.handleBlur})]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(A,{type:"text",id:"phone",name:"phone",placeholder:"Phone Number",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur})]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(T,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Add Customer",type:"submit",icon:"fa-plus"})]})]})]}),e(L,{position:"top-right",reverseOrder:!1})]})},nt=({name:t,options:r,placeholder:n,onChange:a})=>e(X,{isMulti:!0,name:t,options:r,className:"basic-multi-select",classNamePrefix:"select",placeholder:n,onChange:a}),ot=({id:t,name:r,min:n,max:a,value:o,product:c,onChange:g})=>s("div",{className:"flex items-center justify-between gap-4",children:[s("label",{htmlFor:t,children:[c,":"]}),e("input",{className:"rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-1 px-3 duration-200 ease-in-out",type:"number",id:t,name:r,min:n,max:a,placeholder:"Quantity",value:o,onChange:g})]}),lt=()=>{const{customers:t,getCustomers:r}=l.exports.useContext(F),{addOrder:n}=l.exports.useContext(K),{products:a,getProducts:o}=l.exports.useContext(G),[c,g]=l.exports.useState([]),[m,h]=l.exports.useState(""),[i,u]=l.exports.useState([]),[d,p]=l.exports.useState([]),[x,y]=l.exports.useState(0);l.exports.useEffect(()=>{r(),o()},[]),l.exports.useEffect(()=>{const w=t.map(({_id:_,firstName:$,lastName:M})=>({value:`${_}`,label:`${$} ${M}`})),O=a.map(({_id:_,name:$,stock:M,price:H})=>({value:`${_}`,label:`${$} ($${H}) - ${M}`,price:H}));g(w),p(O)},[t,a]),l.exports.useEffect(()=>{const w=i.reduce((O,{price:_,quantity:$})=>O+_*$,0);y(w)},[i]);const f=w=>{h((w==null?void 0:w.value)||"")},I=w=>{w&&u(w.map(({value:O,label:_})=>{var $;return{product:O,quantity:1,label:_,price:(($=d.find(({value:M})=>M===O))==null?void 0:$.price)||0}}))},S=w=>{w.target.valueAsNumber>100&&w.target.valueAsNumber<=0&&!isNaN(w.target.valueAsNumber)||u(O=>O.map(_=>_.product===w.target.name?k(C({},_),{quantity:w.target.valueAsNumber}):_))};return s(b,{children:[e(B,{}),s("main",{className:"w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"New Order"}),s("form",{onSubmit:w=>{w.preventDefault();const O=i.map(kt=>{var ae=kt,{label:$,price:M}=ae,H=Y(ae,["label","price"]);return H});n({client:m,details:O})},className:"mt-4 px-4",children:[e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2",children:e("h3",{className:"text-gray-100",children:"Select Customer"})}),e(X,{name:"customers",options:c,className:"basic-multi-select mt-2",classNamePrefix:"select",onChange:f,placeholder:"Select a customer"}),e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2 mt-8",children:e("h3",{className:"text-gray-100",children:"Select Products and Quantities"})}),s("section",{className:"grid gap-8 grid-cols-12 mt-2",children:[e("div",{className:"col-span-12 md:col-span-6",children:e(nt,{name:"products",options:d,onChange:I,placeholder:"Select product(s)"})}),e("div",{className:"col-span-12 md:col-span-6",children:i.map(({product:w,quantity:O,label:_})=>e("div",{className:"mb-2",children:e(ot,{id:w,name:w,value:O,min:1,max:100,product:_,onChange:S})},w))})]}),e("section",{className:"w-full bg-gray-100 shadow-md rounded-md px-4 py-2 mt-8",children:s("h2",{className:"text-lg md:text-xl font-medium text-green-700",children:["Total: $",x.toFixed(2)]})}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(T,{isButton:!0,linkText:"Cancel",linkTo:"/orders",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Create Order",type:"submit",icon:"fa-plus",disabled:!m||!i.length})]})]})]}),e(L,{position:"top-right",reverseOrder:!1})]})},ct=()=>{const{addProduct:t}=l.exports.useContext(G),r=J({initialValues:{name:"",stock:"",price:""},validationSchema:q({name:R().required("Product Name is required."),stock:W().required("Product Stock is required.").typeError("You must specify a number.").min(1,"Min value for stock is 1.").integer("Stock must be an integer."),price:W().required("Product Price is required.").typeError("You must specify a number.").min(1,"Min value for price is 1.")}),onSubmit:n=>{const a={name:n.name,stock:Number(n.stock),price:Number(n.price)};t(a)}});return s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Product"}),s("form",{onSubmit:r.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(A,{type:"text",id:"name",name:"name",placeholder:"Product Name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.name&&r.errors.name?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.name})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(A,{type:"text",id:"stock",name:"stock",placeholder:"Product Stock",value:r.values.stock,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.stock&&r.errors.stock?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.stock})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(A,{type:"text",id:"price",name:"price",placeholder:"Product Price",value:r.values.price,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.price&&r.errors.price?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.price})}):null]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(T,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Add Product",type:"submit",icon:"fa-plus"})]})]})]}),e(L,{position:"top-right",reverseOrder:!1})]})},Oe=({id:t,setId:r,onDelete:n,setShowModal:a})=>s(b,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:s("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[s("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:"Delete"}),e(v,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{a(!1),r("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:"Are you sure you want to delete the record? This action can't be undone."}),s("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(v,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{a(!1),r("")}}),e(v,{variant:"danger",size:"normal",label:"Yes, Delete",type:"button",icon:"fa-trash",onClick:()=>n(t)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),it=({currentPage:t,totalRecords:r,setCurrentPage:n,paginate:a})=>{let o=[];if(r!==1){for(let c=1;c<=r;c++)o.push(e(v,{variant:"primary",size:"small",type:"button",label:`${c}`,disabled:c===t,onClick:()=>{n(c),a(c)}},c));return e(b,{children:o})}},te=({page:t,totalRecords:r,paginate:n})=>{const[a,o]=l.exports.useState(t);return l.exports.useEffect(()=>{o(t)},[t]),r===1?e(b,{}):s("section",{className:"flex gap-1",children:[e(v,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-left",disabled:a===1,onClick:()=>{o(a-1),n(a-1)}}),it({currentPage:a,totalRecords:r,setCurrentPage:o,paginate:n}),e(v,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-right",disabled:a===r,onClick:()=>{o(a+1),n(a+1)}})]})},re=()=>e("div",{className:"grid place-items-center h-screen",children:s("div",{className:"sk-cube-grid",children:[e("div",{className:"sk-cube sk-cube1"}),e("div",{className:"sk-cube sk-cube2"}),e("div",{className:"sk-cube sk-cube3"}),e("div",{className:"sk-cube sk-cube4"}),e("div",{className:"sk-cube sk-cube5"}),e("div",{className:"sk-cube sk-cube6"}),e("div",{className:"sk-cube sk-cube7"}),e("div",{className:"sk-cube sk-cube8"}),e("div",{className:"sk-cube sk-cube9"})]})}),Re=({headings:t,content:r})=>e("div",{className:"bg-white shadow-lg rounded-sm border border-gray-200",children:e("div",{className:"p-3",children:e("div",{className:"overflow-x-auto",children:s("table",{className:"table-auto w-full",children:[e("thead",{className:"text-xs font-semibold uppercase text-gray-400 bg-gray-50",children:e("tr",{children:t.map((n,a)=>e("th",{className:"p-2 whitespace-nowrap",children:e("div",{className:"font-semibold text-left",children:n})},`${n.replace(/\s/g,"").toLowerCase()}-${a}`))})}),e("tbody",{className:"text-sm divide-y divide-gray-200",children:r})]})})})}),dt=(t,r,n)=>t.map(({_id:a,firstName:o,lastName:c,company:g,email:m,address:h,phone:i})=>s("tr",{children:[s("td",{className:"p-2 whitespace-nowrap",children:[o," ",c]}),e("td",{className:"p-2 whitespace-nowrap",children:g}),s("td",{className:"p-2 whitespace-nowrap",children:[s("p",{className:"items-center",children:[e("i",{className:"fas fa-envelope mr-2"}),m]}),i&&s("p",{className:"items-center mt-2",children:[e("i",{className:"fas fa-phone mr-2"}),i]})]}),e("td",{className:"p-2 whitespace-nowrap",children:h&&h.length>25?h.substring(0,30)+"...":h}),s("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(v,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{r(!0),n(a)}}),e(T,{isButton:!0,linkText:"Edit",linkTo:`/customers/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),mt=()=>{const{customers:t,deleteCustomer:r,getCustomers:n}=l.exports.useContext(F),a=2,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[u,d]=l.exports.useState(!1);l.exports.useEffect(()=>{n(),i(!1)},[]);const p=l.exports.useCallback(S=>{r(S),d(!1),c(1)},[]),x=S=>c(S),y=o*a,f=y-a,I=t.slice(f,y);return h?e(re,{}):s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0&&!h?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Customers"}),e(T,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Customers"}),e(T,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[e("section",{className:"mt-4",children:e(Re,{headings:["Name","Company","Contact","Address","Options"],content:dt(I,d,m)})}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:o,totalRecords:Math.ceil(t.length/a),paginate:x})})]})]}),u?e(Oe,{id:g,setId:m,onDelete:p,setShowModal:d}):null,e(L,{position:"top-right",reverseOrder:!1})]})},ut=()=>{const{customer:t,getCustomer:r,updateCustomer:n}=l.exports.useContext(F),a=le(),o={firstName:"",lastName:"",company:"",email:"",address:"",phone:""},c=q().shape({firstName:R().required("First name is required."),lastName:R().required("Last name is required."),company:R().required("Company is required."),email:R().required("Email is required.").email("Invalid email address.")}),g=m=>{const h=C({_id:a.id},m);n(h)};return s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&s("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Customer: ",`${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName}`]}),e(ce,{initialValues:o,validationSchema:c,onSubmit:g,children:({errors:m,touched:h,setFieldValue:i})=>{if(l.exports.useEffect(()=>{r(a.id)},[]),l.exports.useEffect(()=>{t&&(i("firstName",t.firstName,!1),i("lastName",t.lastName,!1),i("company",t.company,!1),i("email",t.email,!1),i("address",t.address,!1),i("phone",t.phone,!1))},[t]),t)return s(ie,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(z,{type:"text",name:"firstName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"First Name"}),h.firstName&&m.firstName?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.firstName})}):null]}),s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(z,{type:"text",name:"lastName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Last Name"}),h.lastName&&m.lastName?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.lastName})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(z,{type:"text",name:"company",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Company"}),h.company&&m.company?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.company})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(z,{type:"email",name:"email",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Email Address"}),h.email&&m.email?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.email})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(z,{type:"text",name:"address",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Address"})]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(z,{type:"text",name:"phone",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Phone Number"})]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(T,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Edit Customer",type:"submit",icon:"fa-edit"})]})]})}})]}),e(L,{position:"top-right",reverseOrder:!1})]})},pt=()=>{const{product:t,getProduct:r,updateProduct:n}=l.exports.useContext(G),a=le(),o={name:"",stock:0,price:0},c=q().shape({name:R().required("Product Name is required."),stock:W().required("Product Stock is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.").integer("Stock must be an integer."),price:W().required("Product Price is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.")}),g=m=>{const h={_id:a.id,name:m.name,stock:Number(m.stock),price:Number(m.price)};n(h)};return s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&s("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Product: ",t==null?void 0:t.name]}),e(ce,{initialValues:o,validationSchema:c,onSubmit:g,children:({errors:m,touched:h,setFieldValue:i})=>{if(l.exports.useEffect(()=>{r(a.id)},[]),l.exports.useEffect(()=>{t&&(i("name",t.name,!1),i("stock",t.stock,!1),i("price",t.price,!1))},[t]),t)return s(ie,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(z,{type:"text",name:"name",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Name"}),h.name&&m.name?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.name})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(z,{type:"text",name:"stock",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Stock"}),h.stock&&m.stock?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.stock})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(z,{type:"text",name:"price",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Price"}),h.price&&m.price?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:m.price})}):null]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(T,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Edit Product",type:"submit",icon:"fa-edit"})]})]})}})]}),e(L,{position:"top-right",reverseOrder:!1})]})},ht=()=>{const t=Q(),r=l.exports.useContext(Te),n=l.exports.useContext(j),{msg:a,type:o,showAlert:c}=r,{authenticated:g,message:m,login:h}=n;l.exports.useEffect(()=>{g&&t(localStorage.getItem("last-path")||"/customers"),m&&c(m.msg,m.type)},[g,m]);const i=J({initialValues:{email:"cristiancbtis130@gmail.com",password:"12345678"},validationSchema:q({email:R().required("Email is required.").email("Email is invalid."),password:R().required("Password is required.").min(8,"Password must be at least 8 characters.")}),onSubmit:u=>{h(u)}});return e("div",{className:"flex justify-center items-center h-screen bg-gray-700",children:s("div",{className:"p-4 md:px-8 md:py-6 shadow-lg bg-white rounded w-9/12 md:w-1/2",children:[e("h2",{className:"text-2xl md:text-4xl font-semibold text-center text-gray-700",children:"Gesin"}),e("h3",{className:"mt-2 text-base md:text-lg font-light text-center text-gray-600",children:"Welcome Back"}),e("div",{className:"my-3",children:a&&o?e(P,{message:a,type:o,icon:"fa-exclamation-triangle"}):null}),s("form",{onSubmit:i.handleSubmit,children:[s("div",{className:"w-full mt-4",children:[e(A,{type:"email",id:"email",name:"email",placeholder:"Email",value:i.values.email,onChange:i.handleChange,onBlur:i.handleBlur}),i.touched.email&&i.errors.email?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:i.errors.email})}):null]}),s("div",{className:"w-full mt-4",children:[e(A,{type:"password",id:"password",name:"password",placeholder:"Password",value:i.values.password,onChange:i.handleChange,onBlur:i.handleBlur}),i.touched.password&&i.errors.password?e("div",{className:"w-full my-2",children:e(P,{type:"error",icon:"fa-exclamation-triangle",message:i.errors.password})}):null]}),e("div",{className:"flex items-center justify-end mt-4",children:e(v,{variant:"primary",size:"normal",label:"Login",type:"submit",icon:"fa-sign-in-alt"})})]})]})})},gt=()=>e("div",{className:"h-screen w-screen bg-gray-100 flex items-center px-4",children:e("div",{className:"container pl-4 md:pl-12 text-gray-700",children:s("div",{className:"max-w-md",children:[e("h1",{className:"text-5xl font-dark font-bold mb-4",children:"404"}),e("p",{className:"text-xl md:text-2xl font-light leading-normal mb-8",children:"Sorry we couldn't find this page."}),e(T,{isButton:!0,linkText:"Back to Customers Page",linkTo:"/customers",size:"normal",variant:"primary"})]})})}),Ae=({type:t,id:r,setId:n,onAction:a,setShowModal:o})=>s(b,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:s("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[s("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:t==="cancel"?"Cancel Order":"Deliver Order"}),e(v,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{o(!1),n("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:t==="cancel"?"Are you sure you want to cancel this order?":"Are you sure you want to deliver this order?"}),s("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(v,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{o(!1),n("")}}),e(v,{variant:t==="cancel"?"danger":"primary",size:"normal",label:t==="cancel"?"Cancel Order":"Deliver Order",type:"button",icon:t==="cancel"?"fa-ban":"fa-truck-loading",onClick:()=>a(r)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),xt=({order:t})=>{const r=l.exports.useContext(K),{cancelOrder:n,deliverOrder:a}=r,[o,c]=l.exports.useState(!1),[g,m]=l.exports.useState(!1),[h,i]=l.exports.useState(""),u=l.exports.useCallback(S=>{n(S),c(!1)},[]),d=l.exports.useCallback(S=>{a(S),m(!1)},[]),{client:p,details:x,total:y,delivered:f}=t,I=`border-2 rounded ${f?"border-green-600":"border-blue-600"}`;return s(b,{children:[s("div",{className:`animate__animated animate__fadeIn grid gap-4 grid-cols-12 py-2 px-3 md:px-4 ${I}`,children:[s("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-5",children:[s("h1",{className:"mb-2 text-lg md:text-xl text-yellow-600 font-medium tracking-wide",children:["Customer: ",`${p.firstName} ${p.lastName}`]}),s("p",{className:"mb-2 font-light",children:["E-mail: ",p.email]}),s("p",{className:"mb-2 font-light",children:["Phone: ",p.phone?p.phone:"No phone"]}),s("p",{className:"font-light",children:["Address: ",p.address?p.address:"No address"]})]}),s("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-7",children:[e("h1",{className:"mb-2 text-lg md:text-xl text-yellow-600 font-medium tracking-wide",children:"Resume"}),x.map(S=>s("article",{className:"flex flex-col gap-1 font-light mb-2 border border-gray-500 rounded p-2 px-3",children:[s("p",{children:[e("strong",{children:"Product: "}),S.product.name]}),s("p",{children:[e("strong",{children:"Quantity: "}),S.quantity]}),s("p",{children:[e("strong",{children:"Price: "}),S.product.price]})]},S._id)),s("p",{className:"mt-4 text-green-800 text-lg md:text-2xl font-medium",children:["Total: $",y]})]}),e("div",{className:"px-1 md:px-3 mb-0 md:mb-1 col-span-12",children:f?e("h1",{className:"uppercase text-green-700 text-lg md:text-2xl",children:"Order Delivered"}):s("div",{className:"flex gap-2",children:[e("div",{children:e(v,{variant:"danger",size:"normal",label:"Cancel Order",type:"button",icon:"fa-ban",onClick:()=>{c(!0),i(t._id)}})}),e("div",{children:e(v,{variant:"primary",size:"normal",label:"Deliver Order",type:"button",icon:"fa-truck-loading",onClick:()=>{m(!0),i(t._id)}})})]})})]}),o?e(Ae,{type:"cancel",id:h,setId:i,onAction:u,setShowModal:c}):null,g?e(Ae,{type:"deliver",id:h,setId:i,onAction:d,setShowModal:m}):null]})},ft=[{value:"",label:"All Orders"},{value:!1,label:"Not Delivered"},{value:!0,label:"Delivered"}],yt=()=>{const{orders:t,totalPages:r,getOrders:n}=l.exports.useContext(K),a=2,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[u,d]=l.exports.useState(`?page=1&size=${a}`);t.length===0&&n(`?page=1&size=${a}`),l.exports.useEffect(()=>{n(u),i(!1)},[u]);const p=f=>{d(`?page=${f}&size=${a}&delivered=${g}`),c(f)},x=f=>{m(f==null?void 0:f.value)},y=f=>{f.preventDefault(),d(g===!1||g===!0?`?page=1&size=${a}&delivered=${g}`:`?page=1&size=${a}`)};return h?e(re,{}):s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Orders"}),e(T,{isButton:!0,linkText:"Create Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Orders"}),e(T,{isButton:!0,linkText:"New Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[s("form",{onSubmit:y,className:"flex items-center justify-between px-5 py-4 shadow-md rounded",children:[e(X,{name:"clients",options:ft,className:"basic-single",classNamePrefix:"select",onChange:x,placeholder:"Select an option"}),e("div",{className:"flex gap-3",children:e(v,{variant:"primary",size:"normal",label:"Search",type:"submit",icon:"fa-search"})})]}),e("section",{className:"mt-4 flex flex-col gap-4",children:t.map(f=>e(l.exports.Fragment,{children:e(xt,{order:f})},f._id))}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:o,totalRecords:r,paginate:p})})]})]}),e(L,{position:"top-right",reverseOrder:!1})]})},bt=(t,r,n)=>t.map(({_id:a,name:o,stock:c,price:g})=>s("tr",{children:[e("td",{className:"p-2 whitespace-nowrap",children:o}),e("td",{className:"p-2 whitespace-nowrap",children:c}),s("td",{className:"p-2 whitespace-nowrap",children:["$ ",g]}),s("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(v,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{r(!0),n(a)}}),e(T,{isButton:!0,linkText:"Edit",linkTo:`/products/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),Nt=()=>{const{products:t,deleteProduct:r,getProducts:n}=l.exports.useContext(G),a=2,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[u,d]=l.exports.useState(!1);l.exports.useEffect(()=>{n(),i(!1)},[]);const p=l.exports.useCallback(S=>{r(S),d(!1),c(1)},[]),x=S=>c(S),y=o*a,f=y-a,I=t.slice(f,y);return h?e(re,{}):s(b,{children:[e(B,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Products"}),e(T,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Products"}),e(T,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[e("section",{className:"mt-4",children:e(Re,{headings:["Name","Stock","Price","Options"],content:bt(I,d,m)})}),e("section",{className:"flex justify-end mt-4",children:e(te,{page:o,totalRecords:Math.ceil(t.length/a),paginate:x})})]})]}),u?e(Oe,{id:g,setId:m,onDelete:p,setShowModal:d}):null,e(L,{position:"top-right",reverseOrder:!1})]})},vt=()=>s(je,{children:[e(D,{path:"/",element:e(ht,{})}),e(D,{path:"/customers",element:e(U,{children:e(mt,{})})}),e(D,{path:"/customers/edit/:id",element:e(U,{children:e(ut,{})})}),e(D,{path:"/customers/new",element:e(U,{children:e(st,{})})}),e(D,{path:"/products",element:e(U,{children:e(Nt,{})})}),e(D,{path:"/products/new",element:e(U,{children:e(ct,{})})}),e(D,{path:"/products/edit/:id",element:e(U,{children:e(pt,{})})}),e(D,{path:"/orders",element:e(U,{children:e(yt,{})})}),e(D,{path:"/orders/new",element:e(U,{children:e(lt,{})})}),e(D,{path:"*",element:e(gt,{})})]}),De=sessionStorage.getItem("admin-token");De&&de(De);function wt(){return e(Ke,{children:e(Qe,{children:e(Xe,{children:e(rt,{children:e(et,{children:e(vt,{})})})})})})}Fe.render(e(Ge.StrictMode,{children:e(He,{children:e(wt,{})})}),document.getElementById("root"));
