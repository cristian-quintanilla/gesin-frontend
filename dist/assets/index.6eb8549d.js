var ze=Object.defineProperty,Le=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var le=(t,r,n)=>r in t?ze(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,C=(t,r)=>{for(var n in r||(r={}))ne.call(r,n)&&le(t,n,r[n]);if(Y)for(var n of Y(r))oe.call(r,n)&&le(t,n,r[n]);return t},k=(t,r)=>Le(t,Ue(r));var Q=(t,r)=>{var n={};for(var a in t)ne.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&Y)for(var a of Y(t))r.indexOf(a)<0&&oe.call(t,a)&&(n[a]=t[a]);return n};import{a as Be,r as l,j as e,u as W,t as N,b as s,L as Me,F as b,c as Ie,N as qe,d as je,e as J,f as j,g as O,T as B,S as Z,h as K,i as ce,k as ie,l as de,m as U,R as Fe,n as D,o as Ge,p as He,B as Ve}from"./vendor.f16d2790.js";const Ye=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};Ye();const S=Be.create({baseURL:"https://gesin.herokuapp.com"}),me=t=>{t?S.defaults.headers.common["x-auth-token"]=t:delete S.defaults.headers.common["x-auth-token"]},ue="[AUTH] ADMIN_LOGIN_SUCCESS",ee="[AUTH] ADMIN_LOGIN_ERROR",pe="[AUTH] ADMIN_LOGOUT",he="[AUTH] GET_USER",ge="[CUSTOMERS] GET_CUSTOMERS",xe="[CUSTOMERS] GET_CUSTOMER",fe="[CUSTOMERS] ADD_CUSTOMER",ye="[CUSTOMERS] DELETE_CUSTOMER",be="[CUSTOMERS] UPDATE_CUSTOMER",Ne="[PRODUCTS] GET_PRODUCTS",ve="[PRODUCTS] GET_PRODUCT",we="[PRODUCTS] ADD_PRODUCT",Ce="[PRODUCTS] DELETE_PRODUCT",ke="[PRODUCTS] UPDATE_PRODUCT",Se="[ORDERS] GET_ORDERS",Ee="[ORDERS] CANCEL_ORDER",Pe="[ORDERS] DELIVER_ORDER",_e="[ALERT] SHOW_ALERT",Te="[ALERT] HIDE_ALERT",Oe=l.exports.createContext({}),Qe=(t,r)=>{const{type:n,payload:a}=r;switch(n){case _e:return{msg:a.msg,type:a.type};case Te:return{msg:null,type:null};default:return t}},We=({children:t})=>{const[r,n]=l.exports.useReducer(Qe,{msg:"",type:""}),a=(o,c)=>{n({type:_e,payload:{msg:o,type:c}}),setTimeout(()=>{n({type:Te})},4e3)};return e(Oe.Provider,{value:{msg:r.msg,type:r.type,showAlert:a},children:t})},F=l.exports.createContext({}),Ke=(t,r)=>{const{type:n,payload:a}=r;switch(n){case ue:return sessionStorage.setItem("auth-token",a.token),k(C({},t),{authenticated:!0,message:null});case ee:case pe:return sessionStorage.removeItem("auth-token"),k(C({},t),{authenticated:null,message:a,token:null,user:null});case he:return k(C({},t),{authenticated:!0,user:a});default:return t}},Xe=({children:t})=>{const r={token:typeof window!="undefined"?sessionStorage.getItem("auth-token"):"",authenticated:null,message:null,user:null},[n,a]=l.exports.useReducer(Ke,r),o=async m=>{var h;try{const i=await S.post("/api/v1/auth/login",m);a({type:ue,payload:i.data}),c()}catch(i){const x={msg:((h=i.response)==null?void 0:h.data.msg)||"Network Error",type:"error"};a({type:ee,payload:x})}},c=async()=>{const m=sessionStorage.getItem("auth-token");m&&me(m);try{const h=await S.get("/api/v1/auth/me");a({type:he,payload:h.data.user})}catch{a({type:ee,payload:null})}},g=()=>{a({type:pe})};return e(F.Provider,{value:{token:n.token,authenticated:n.authenticated,message:n.message,user:n.user,login:o,userAuthenticated:c,logout:g},children:t})},G=l.exports.createContext({}),Je=(t,r)=>{const{type:n,payload:a}=r;switch(n){case ge:return k(C({},t),{customers:a});case xe:return k(C({},t),{customer:a,message:null});case fe:return k(C({},t),{customers:[...t.customers,a]});case ye:return k(C({},t),{customers:t.customers.filter(o=>o._id!==a)});case be:return k(C({},t),{customers:t.customers.map(o=>o._id===a._id?a:o),customer:null});default:return t}},Ze=({children:t})=>{const r=W(),n={customers:[],customer:null},[a,o]=l.exports.useReducer(Je,n),c=async()=>{var p;try{const{data:d}=await S.get("/api/v1/customers");o({type:ge,payload:d.customers})}catch(d){const x=((p=d.response)==null?void 0:p.data.msg)||"Error getting customers. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async p=>{var d;try{const{data:u}=await S.get(`/api/v1/customers/${p}`);o({type:xe,payload:u.customer})}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error getting customer. Try again later or contact support.";N.error(f,{duration:5e3})}},m=async p=>{var d;try{const{data:u}=await S.post("/api/v1/customers/create",p);o({type:fe,payload:u.customer}),N.success(u.msg,{duration:5e3}),r("/customers")}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error adding customer. Try again later or contact support.";N.error(f,{duration:5e3})}},h=async p=>{var d;try{const{data:u}=await S.delete(`/api/v1/customers/delete/${p}`);o({type:ye,payload:p}),N.success(u.msg,{duration:5e3})}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error deleting customer. Try again later or contact support.";N.error(f,{duration:5e3})}},i=async p=>{var u;try{const d=p,{_id:x}=d,f=Q(d,["_id"]),{data:y}=await S.put(`/api/v1/customers/edit/${x}`,f);o({type:be,payload:y.customer}),N.success(y.msg,{duration:5e3}),r("/customers")}catch(x){const y=((u=x.response)==null?void 0:u.data.msg)||"Error updating customer. Try again later or contact support.";N.error(y,{duration:5e3})}};return e(G.Provider,{value:{customers:a.customers,customer:a.customer,getCustomers:c,getCustomer:g,addCustomer:m,deleteCustomer:h,updateCustomer:i},children:t})},X=l.exports.createContext({}),et=(t,r)=>{const{type:n,payload:a}=r;switch(n){case Se:return k(C({},t),{orders:a.orders,totalPages:a.totalPages});case Ee:return k(C({},t),{orders:t.orders.filter(o=>o._id!==a)});case Pe:return k(C({},t),{orders:t.orders.map(o=>o._id===a?k(C({},o),{delivered:!0}):o)});default:return t}},tt=({children:t})=>{const r=W(),n={orders:[],totalPages:0},[a,o]=l.exports.useReducer(et,n),c=async i=>{var p;try{const{data:d}=await S.get(`/api/v1/orders${i}`);o({type:Se,payload:{orders:d.orders,totalPages:d.totalPages}})}catch(d){const x=((p=d.response)==null?void 0:p.data.msg)||"Error getting orders. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async i=>{var p;try{const{data:d}=await S.put(`/api/v1/orders/cancel/${i}`);o({type:Ee,payload:i}),N.success(d.msg,{duration:5e3})}catch(d){const x=((p=d.response)==null?void 0:p.data.msg)||"Error canceling order. Try again later or contact support.";N.error(x,{duration:5e3})}},m=async i=>{var p;try{const{data:d}=await S.put(`/api/v1/orders/deliver/${i}`);o({type:Pe,payload:i}),N.success(d.msg,{duration:5e3})}catch(d){const x=((p=d.response)==null?void 0:p.data.msg)||"Error delivering order. Try again later or contact support.";N.error(x,{duration:5e3})}},h=async i=>{var p,d;try{const{data:u}=await S.post("/api/v1/orders/new",i);N.success(u.msg,{duration:5e3}),r("/orders")}catch(u){const x=u;let f="";if((p=x.response)==null?void 0:p.data.errors){const{errors:y}=(d=x.response)==null?void 0:d.data;y.forEach($=>{f+=`${$.msg}
`})}N.error(`${f}`,{duration:5e3})}};return e(X.Provider,{value:{orders:a.orders,totalPages:a.totalPages,getOrders:c,addOrder:h,cancelOrder:g,deliverOrder:m},children:t})},H=l.exports.createContext({}),rt=(t,r)=>{const{type:n,payload:a}=r;switch(n){case Ne:return k(C({},t),{products:a,message:null});case ve:return k(C({},t),{product:a,message:null});case we:return k(C({},t),{products:[...t.products,a],message:null});case Ce:return k(C({},t),{products:t.products.filter(o=>o._id!==a),message:null});case ke:return k(C({},t),{products:t.products.map(o=>o._id===a._id?a:o),message:null,product:null});default:return t}},at=({children:t})=>{const r=W(),n={products:[],product:null},[a,o]=l.exports.useReducer(rt,n),c=async()=>{var p;try{const{data:d}=await S.get("/api/v1/products");o({type:Ne,payload:d.products})}catch(d){const x=((p=d.response)==null?void 0:p.data.msg)||"Error getting products. Try again later or contact support.";N.error(x,{duration:5e3})}},g=async p=>{var d;try{const{data:u}=await S.get(`/api/v1/products/${p}`);o({type:ve,payload:u.product})}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error getting product. Try again later or contact support.";N.error(f,{duration:5e3})}},m=async p=>{var d;try{const{data:u}=await S.post("/api/v1/products/create",p);o({type:we,payload:u.product}),N.success(u.msg,{duration:5e3}),r("/products")}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error adding product. Try again later or contact support.";N.error(f,{duration:5e3})}},h=async p=>{var d;try{const{data:u}=await S.delete(`/api/v1/products/delete/${p}`);o({type:Ce,payload:p}),N.success(u.msg,{duration:5e3})}catch(u){const f=((d=u.response)==null?void 0:d.data.msg)||"Error deleting product. Try again later or contact support.";N.error(f,{duration:5e3})}},i=async p=>{var u;try{const d=p,{_id:x}=d,f=Q(d,["_id"]),{data:y}=await S.put(`/api/v1/products/edit/${x}`,f);o({type:ke,payload:y.product}),N.success(y.msg,{duration:5e3}),r("/products")}catch(x){const y=((u=x.response)==null?void 0:u.data.msg)||"Error updating product. Try again later or contact support.";N.error(y,{duration:5e3})}};return e(H.Provider,{value:{products:a.products,product:a.product,getProducts:c,getProduct:g,addProduct:m,deleteProduct:h,updateProduct:i},children:t})},v=({variant:t,size:r,label:n,type:a,icon:o,disabled:c,onClick:g,onSubmit:m})=>{const h={button_primary:"bg-blue-600 hover:bg-blue-500 text-white rounded ",button_secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded ",button_danger:"bg-red-600 hover:bg-red-500 text-white rounded "},i={size_normal:"text-base md:text-lg px-4 py-2",size_small:"text-base px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},p=h[`button_${t}`]+i[`size_${r}`];return s("button",{type:a,className:`${p} ${c?"opacity-60":""} inline-flex items-center`,disabled:c,onClick:g,onSubmit:m,children:[e("div",{children:o&&e("i",{className:`fas ${o} ${n?"mr-2":""}`})}),n&&e("div",{className:"text-center",children:n})]})},te=({route:t,text:r,icon:n})=>{const o="text-sm md:text-base uppercase font-medium px-4 py-2 rounded-md mb-2 "+(window.location.pathname===t?"text-gray-200 bg-gray-700 hover:text-gray-700 hover:bg-gray-200":"text-gray-700 bg-gray-200 hover:text-gray-200 hover:bg-gray-700");return s(Me,{className:o,to:t,children:[e("i",{className:`fas ${n} mr-2 text-lg`+(window.location.pathname!==t?"opacity-75":"text-gray-500")})," ",r]})},st=()=>{const t=l.exports.useContext(F),{logout:r}=t,[n,a]=l.exports.useState("hidden");return s(b,{children:[e("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden bg-white flex flex-wrap shadow-blue-400 justify-between relative md:w-64 z-20 py-4 shadow-md",children:s("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-2 flex flex-wrap items-center justify-between w-full mx-auto",children:[e("div",{className:"ml-4 md:hidden",children:e(v,{variant:"secondary",size:"small",type:"button",icon:"fa-bars",onClick:()=>a("bg-white py-3 px-2 rounded")})}),e("h1",{className:"hidden md:block uppercase font-semibold text-gray-800 text-base md:text-4xl",children:"Gesin"}),s("div",{className:`md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4
						absolute top-0 left-0 right-0 z-20 overflow-y-auto
						overflow-x-hidden h-auto items-center flex-1 ${n}`,children:[e("div",{className:"md:min-w-full md:hidden block pb-2",children:s("div",{className:"flex flex-wrap",children:[e("div",{className:"w-6/12 uppercase",children:"Gesin"}),e("div",{className:"w-6/12 flex justify-end",children:e(v,{variant:"secondary",size:"small",type:"button",icon:"fa-times",onClick:()=>a("hidden")})})]})}),s("div",{className:"flex flex-col justify-between flex-1 md:mt-6",children:[s("nav",{className:"md:flex-col md:min-w-full flex flex-col list-none mt-2 md:mt-4",children:[e(te,{route:"/customers",text:"Customers",icon:"fa-people-arrows"}),e(te,{route:"/products",text:"Products",icon:"fa-boxes"}),e(te,{route:"/orders",text:"Orders",icon:"fa-folder-open"})]}),e("div",{className:"self-center px-4 -mx-2",children:e(v,{variant:"secondary",size:"normal",label:"Logout",icon:"fa-sign-out-alt",type:"button",onClick:()=>r()})})]})]})]})}),n.includes("bg-white")&&e("div",{className:"opacity-25 fixed inset-0 z-10 bg-black",onClick:()=>a("hidden")})]})},M=({children:t})=>{let r=Ie();localStorage.setItem("last-path",r.pathname);const n=l.exports.useContext(F),{authenticated:a,userAuthenticated:o}=n;return l.exports.useEffect(()=>{o()},[]),a?s(b,{children:[e(st,{}),e("div",{className:"relative md:ml-64",children:t})]}):e(qe,{to:"/",state:{from:r}})},E=({message:t,type:r,icon:n})=>{const a="flex items-center justify-center w-12",o={alert_success:"bg-green-500 text-white",alert_error:"bg-red-500 text-white",alert_default:"bg-blue-500 text-white"},c={alert_success:"text-green-600",alert_error:"text-red-600",alert_default:"text-blue-600"};return s("div",{className:"flex w-full bg-white shadow-md",children:[e("div",{className:`rounded-l-lg ${a} ${o[`alert_${r}`]}`,children:e("i",{className:`fas ${n} }`})}),e("div",{className:"text-left px-4 py-2",children:e("div",{className:"mx-3",children:e("p",{className:`text-base ${c[`alert_${r}`]}`,children:t})})})]})},I=()=>{const{user:t,userAuthenticated:r}=l.exports.useContext(F);return l.exports.useEffect(()=>{t||r()},[]),e("header",{className:"py-4 pl-4 md:pl-8 w-full",children:e("h1",{className:"text-xl md:text-2xl font-medium md:font-normal text-green-600",children:t&&s(b,{children:["Welcome, ",t==null?void 0:t.name," (",t==null?void 0:t.email,")"]})})})},A=({type:t,id:r,name:n,placeholder:a,value:o,onChange:c,onBlur:g})=>e("input",{type:t,id:r,name:n,placeholder:a,className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",value:o,onChange:c,onBlur:g}),_=({isButton:t,icon:r,linkText:n,linkTo:a,size:o,variant:c})=>{const g={button_primary:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white rounded ",button_secondary:"border-2 border-gray-600 text-gray-800 hover:bg-gray-600 hover:text-gray-100 rounded ",button_danger:"border-2 border-red-600 text-red-800 hover:bg-red-600 hover:text-red-100 rounded ",link_primary:"text-blue-600 hover:text-blue-500",link_secondary:"text-gray-600 hover:text-gray-400",link_danger:"text-red-600 hover:text-red-400"},m={size_normal:"text-sm md:text-lg px-4 py-1",size_small:"text-sm px-2 py-1",size_large:"text-lg md:text-xl px-5 py-3"},i=(t?g[`button_${c}`]:g[`link_${c}`])+m[`size_${o}`]+" inline-flex items-center";return s(je,{to:a,className:({isActive:p})=>i+(p?" font-semibold":""),children:[e("div",{children:r&&e("i",{className:`fas ${r} ${n?"mr-2":""}`})}),n&&e("div",{className:"text-center",children:n})]})},nt=()=>{const{addCustomer:t}=l.exports.useContext(G),r=J({initialValues:{firstName:"",lastName:"",company:"",email:"",address:"",phone:""},validationSchema:j({firstName:O().required("First name is required."),lastName:O().required("Last name is required."),company:O().required("Company is required."),email:O().required("Email is required.").email("Invalid email address.")}),onSubmit:n=>{t(n)}});return s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Customer"}),s("form",{onSubmit:r.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(A,{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",value:r.values.firstName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.firstName&&r.errors.firstName?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.firstName})}):null]}),s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(A,{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",value:r.values.lastName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.lastName&&r.errors.lastName?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.lastName})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(A,{type:"text",id:"company",name:"company",placeholder:"Company",value:r.values.company,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.company&&r.errors.company?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.company})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(A,{type:"email",id:"email",name:"email",placeholder:"Email Address",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.email&&r.errors.email?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.email})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(A,{type:"text",id:"address",name:"address",placeholder:"Address",value:r.values.address,onChange:r.handleChange,onBlur:r.handleBlur})]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(A,{type:"text",id:"phone",name:"phone",placeholder:"Phone Number",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur})]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Add Customer",type:"submit",icon:"fa-plus"})]})]})]}),e(B,{position:"top-right",reverseOrder:!1})]})},ot=({name:t,options:r,placeholder:n,onChange:a})=>e(Z,{isMulti:!0,name:t,options:r,className:"basic-multi-select",classNamePrefix:"select",placeholder:n,onChange:a}),lt=({id:t,name:r,min:n,max:a,value:o,product:c,onChange:g})=>s("div",{className:"flex items-center justify-between gap-4",children:[s("label",{htmlFor:t,children:[c,":"]}),e("input",{className:"rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-1 px-3 duration-200 ease-in-out",type:"number",id:t,name:r,min:n,max:a,placeholder:"Quantity",value:isNaN(o)?"":o,onChange:g})]}),ct=()=>{const{customers:t,getCustomers:r}=l.exports.useContext(G),{addOrder:n}=l.exports.useContext(X),{products:a,getProducts:o}=l.exports.useContext(H),[c,g]=l.exports.useState([]),[m,h]=l.exports.useState(""),[i,p]=l.exports.useState([]),[d,u]=l.exports.useState([]),[x,f]=l.exports.useState(0);l.exports.useEffect(()=>{r(),o()},[]),l.exports.useEffect(()=>{const w=t.map(({_id:P,firstName:L,lastName:q})=>({value:`${P}`,label:`${L} ${q}`})),T=a.map(({_id:P,name:L,stock:q,price:V})=>({value:`${P}`,label:`${L} ($${V}) - ${q}`,price:V}));g(w),u(T)},[t,a]),l.exports.useEffect(()=>{const w=i.reduce((T,{price:P,quantity:L})=>T+P*L,0);f(w)},[i]);const y=w=>{h((w==null?void 0:w.value)||"")},$=w=>{w&&p(w.map(({value:T,label:P})=>{var L;return{product:T,quantity:1,label:P,price:((L=d.find(({value:q})=>q===T))==null?void 0:L.price)||0}}))},R=w=>{w.target.valueAsNumber>100&&w.target.valueAsNumber<=0&&!isNaN(w.target.valueAsNumber)||p(T=>T.map(P=>P.product===w.target.name?k(C({},P),{quantity:w.target.valueAsNumber}):P))};return s(b,{children:[e(I,{}),s("main",{className:"w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"New Order"}),s("form",{onSubmit:w=>{w.preventDefault();const T=i.map(kt=>{var se=kt,{label:L,price:q}=se,V=Q(se,["label","price"]);return V});n({client:m,details:T})},className:"py-4 mt-4 mx-8 px-4 shadow-md shadow-blue-300 rounded",children:[e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2",children:e("h3",{className:"text-gray-100",children:"Select Customer"})}),e(Z,{name:"customers",options:c,className:"basic-multi-select mt-2",classNamePrefix:"select",onChange:y,placeholder:"Select a customer"}),e("div",{className:"w-full bg-green-700 shadow-md rounded-md px-4 py-2 mt-8",children:e("h3",{className:"text-gray-100",children:"Select Products and Quantities"})}),s("section",{className:"grid gap-y-4 grid-cols-12 mt-2",children:[e("div",{className:"col-span-12",children:e(ot,{name:"products",options:d,onChange:$,placeholder:"Select product(s)"})}),e("div",{className:"col-span-12",children:i.map(({product:w,quantity:T,label:P})=>e("div",{className:"mb-2",children:e(lt,{id:w,name:w,value:T,min:1,max:100,product:P,onChange:R})},w))})]}),e("section",{className:"w-full bg-green-100/50 shadow-md shadow-green-300 rounded-md px-4 py-3 mt-8",children:e("h2",{className:"text-lg md:text-xl font-medium text-green-700",children:isNaN(x)?e(b,{children:"Calculando Total..."}):s(b,{children:["Total: $",x.toFixed(2)]})})}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/orders",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Create Order",type:"submit",icon:"fa-plus",disabled:!m||!i.length})]})]})]}),e(B,{position:"top-right",reverseOrder:!1})]})},it=()=>{const{addProduct:t}=l.exports.useContext(H),r=J({initialValues:{name:"",stock:"",price:""},validationSchema:j({name:O().required("Product Name is required."),stock:K().required("Product Stock is required.").typeError("You must specify a number.").min(1,"Min value for stock is 1.").integer("Stock must be an integer."),price:K().required("Product Price is required.").typeError("You must specify a number.").min(1,"Min value for price is 1.")}),onSubmit:n=>{const a={name:n.name,stock:Number(n.stock),price:Number(n.price)};t(a)}});return s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[e("h1",{className:"text-xl md:text-2xl text-center",children:"Add Product"}),s("form",{onSubmit:r.handleSubmit,className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(A,{type:"text",id:"name",name:"name",placeholder:"Product Name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.name&&r.errors.name?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.name})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(A,{type:"text",id:"stock",name:"stock",placeholder:"Product Stock",value:r.values.stock,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.stock&&r.errors.stock?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.stock})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(A,{type:"text",id:"price",name:"price",placeholder:"Product Price",value:r.values.price,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.price&&r.errors.price?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:r.errors.price})}):null]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Add Product",type:"submit",icon:"fa-plus"})]})]})]}),e(B,{position:"top-right",reverseOrder:!1})]})},Re=({id:t,setId:r,onDelete:n,setShowModal:a})=>s(b,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:s("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[s("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:"Delete"}),e(v,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{a(!1),r("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:"Are you sure you want to delete the record? This action can't be undone."}),s("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(v,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{a(!1),r("")}}),e(v,{variant:"danger",size:"normal",label:"Yes, Delete",type:"button",icon:"fa-trash",onClick:()=>n(t)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),dt=({currentPage:t,totalRecords:r,setCurrentPage:n,paginate:a})=>{let o=[];if(r!==1){for(let c=1;c<=r;c++)o.push(e(v,{variant:"primary",size:"small",type:"button",label:`${c}`,disabled:c===t,onClick:()=>{n(c),a(c)}},c));return e(b,{children:o})}},re=({page:t,totalRecords:r,paginate:n})=>{const[a,o]=l.exports.useState(t);return l.exports.useEffect(()=>{o(t)},[t]),r===1?e(b,{}):s("section",{className:"flex gap-1",children:[e(v,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-left",disabled:a===1,onClick:()=>{o(a-1),n(a-1)}}),dt({currentPage:a,totalRecords:r,setCurrentPage:o,paginate:n}),e(v,{variant:"primary",size:"small",type:"button",icon:"fa-chevron-right",disabled:a===r,onClick:()=>{o(a+1),n(a+1)}})]})},ae=()=>e("div",{className:"grid place-items-center h-screen",children:s("div",{className:"sk-cube-grid",children:[e("div",{className:"sk-cube sk-cube1"}),e("div",{className:"sk-cube sk-cube2"}),e("div",{className:"sk-cube sk-cube3"}),e("div",{className:"sk-cube sk-cube4"}),e("div",{className:"sk-cube sk-cube5"}),e("div",{className:"sk-cube sk-cube6"}),e("div",{className:"sk-cube sk-cube7"}),e("div",{className:"sk-cube sk-cube8"}),e("div",{className:"sk-cube sk-cube9"})]})}),Ae=({headings:t,content:r})=>e("div",{className:"bg-white shadow-md shadow-blue-300 rounded-sm border border-gray-200",children:e("div",{className:"p-3",children:e("div",{className:"overflow-x-auto",children:s("table",{className:"table-auto w-full",children:[e("thead",{className:"uppercase text-gray-400 bg-gray-50",children:e("tr",{children:t.map((n,a)=>e("th",{className:"p-2 whitespace-nowrap",children:e("div",{className:"text-base font-semibold text-left",children:n})},`${n.replace(/\s/g,"").toLowerCase()}-${a}`))})}),e("tbody",{className:"text-sm divide-y-2 divide-gray-300",children:r})]})})})}),mt=(t,r,n)=>t.map(({_id:a,firstName:o,lastName:c,company:g,email:m,address:h,phone:i})=>s("tr",{children:[s("td",{className:"p-2 whitespace-nowrap",children:[o," ",c]}),e("td",{className:"p-2 whitespace-nowrap",children:g}),s("td",{className:"p-2 whitespace-nowrap",children:[s("p",{className:"items-center",children:[e("i",{className:"fas fa-envelope mr-2"}),m]}),i&&s("p",{className:"items-center mt-2",children:[e("i",{className:"fas fa-phone mr-2"}),i]})]}),e("td",{className:"p-2 whitespace-nowrap",children:h&&h.length>25?h.substring(0,30)+"...":h}),s("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(v,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{r(!0),n(a)}}),e(_,{isButton:!0,linkText:"Edit",linkTo:`/customers/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),ut=()=>{const{customers:t,deleteCustomer:r,getCustomers:n}=l.exports.useContext(G),a=10,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[p,d]=l.exports.useState(!1);l.exports.useEffect(()=>{n(),i(!1)},[]);const u=l.exports.useCallback(R=>{r(R),d(!1),c(1)},[]),x=R=>c(R),f=o*a,y=f-a,$=t.slice(y,f);return h?e(ae,{}):s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0&&!h?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Customers"}),e(_,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Customers"}),e(_,{isButton:!0,linkText:"Add Customer",linkTo:"/customers/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[e("section",{className:"mt-4",children:e(Ae,{headings:["Name","Company","Contact","Address","Options"],content:mt($,d,m)})}),e("section",{className:"flex justify-end mt-4",children:e(re,{page:o,totalRecords:Math.ceil(t.length/a),paginate:x})})]})]}),p?e(Re,{id:g,setId:m,onDelete:u,setShowModal:d}):null,e(B,{position:"top-right",reverseOrder:!1})]})},pt=()=>{const{customer:t,getCustomer:r,updateCustomer:n}=l.exports.useContext(G),a=ce(),o={firstName:"",lastName:"",company:"",email:"",address:"",phone:""},c=j().shape({firstName:O().required("First name is required."),lastName:O().required("Last name is required."),company:O().required("Company is required."),email:O().required("Email is required.").email("Invalid email address.")}),g=m=>{const h=C({_id:a.id},m);n(h)};return s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&s("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Customer: ",`${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName}`]}),e(ie,{initialValues:o,validationSchema:c,onSubmit:g,children:({errors:m,touched:h,setFieldValue:i})=>{if(l.exports.useEffect(()=>{r(a.id)},[]),l.exports.useEffect(()=>{t&&(i("firstName",t.firstName,!1),i("lastName",t.lastName,!1),i("company",t.company,!1),i("email",t.email,!1),i("address",t.address,!1),i("phone",t.phone,!1))},[t]),t)return s(de,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"firstName",children:"First Name:"}),e(U,{type:"text",name:"firstName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"First Name"}),h.firstName&&m.firstName?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.firstName})}):null]}),s("div",{className:"col-span-12 md:col-span-6",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"lastName",children:"Last Name:"}),e(U,{type:"text",name:"lastName",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Last Name"}),h.lastName&&m.lastName?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.lastName})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"company",children:"Company:"}),e(U,{type:"text",name:"company",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Company"}),h.company&&m.company?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.company})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Email Address:"}),e(U,{type:"email",name:"email",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Email Address"}),h.email&&m.email?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.email})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"address",children:"Address:"}),e(U,{type:"text",name:"address",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Address"})]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"phone",children:"Phone Number:"}),e(U,{type:"text",name:"phone",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Phone Number"})]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/customers",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Edit Customer",type:"submit",icon:"fa-edit"})]})]})}})]}),e(B,{position:"top-right",reverseOrder:!1})]})},ht=()=>{const{product:t,getProduct:r,updateProduct:n}=l.exports.useContext(H),a=ce(),o={name:"",stock:0,price:0},c=j().shape({name:O().required("Product Name is required."),stock:K().required("Product Stock is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.").integer("Stock must be an integer."),price:K().required("Product Price is required.").typeError("You must specify a number.").min(0,"Min value for price is 0.")}),g=m=>{const h={_id:a.id,name:m.name,stock:Number(m.stock),price:Number(m.price)};n(h)};return s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4",children:[t&&s("h1",{className:"text-xl md:text-2xl text-center",children:["Edit Product: ",t==null?void 0:t.name]}),e(ie,{initialValues:o,validationSchema:c,onSubmit:g,children:({errors:m,touched:h,setFieldValue:i})=>{if(l.exports.useEffect(()=>{r(a.id)},[]),l.exports.useEffect(()=>{t&&(i("name",t.name,!1),i("stock",t.stock,!1),i("price",t.price,!1))},[t]),t)return s(de,{className:"grid gap-4 grid-cols-12 mx-4 mt-4 md:mt-6",children:[s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"Product Name:"}),e(U,{type:"text",name:"name",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Name"}),h.name&&m.name?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.name})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"stock",children:"Product Stock:"}),e(U,{type:"text",name:"stock",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Stock"}),h.stock&&m.stock?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.stock})}):null]}),s("div",{className:"col-span-12",children:[e("label",{className:"block text-gray-700 mb-2",htmlFor:"price",children:"Product Price:"}),e(U,{type:"text",name:"price",className:"w-full rounded border-2 border-gray-300 focus:border-blue-600 outline-none text-gray-700 py-2 px-3 duration-200 ease-in-out",autoComplete:"off",placeholder:"Product Price"}),h.price&&m.price?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:m.price})}):null]}),s("div",{className:"mt-4 col-span-12 flex flex-wrap gap-2 justify-end",children:[e(_,{isButton:!0,linkText:"Cancel",linkTo:"/products",size:"normal",variant:"danger"}),e(v,{variant:"primary",size:"normal",label:"Edit Product",type:"submit",icon:"fa-edit"})]})]})}})]}),e(B,{position:"top-right",reverseOrder:!1})]})},gt=()=>{const t=W(),r=l.exports.useContext(Oe),n=l.exports.useContext(F),{msg:a,type:o,showAlert:c}=r,{authenticated:g,message:m,login:h}=n;l.exports.useEffect(()=>{g&&t(localStorage.getItem("last-path")||"/customers"),m&&c(m.msg,m.type)},[g,m]);const i=J({initialValues:{email:"cristiancbtis130@gmail.com",password:"12345678"},validationSchema:j({email:O().required("Email is required.").email("Email is invalid."),password:O().required("Password is required.").min(8,"Password must be at least 8 characters.")}),onSubmit:p=>{h(p)}});return e("div",{className:"flex justify-center items-center h-screen bg-gray-800",children:s("div",{className:"p-6 md:px-8 md:py-6 shadow-lg bg-white rounded w-10/12 sm:w-8/12 md:w-2/5",children:[e("h2",{className:"text-4xl font-semibold text-center text-gray-800",children:"Gesin"}),e("h3",{className:"mt-2 text-base md:text-lg font-light text-center text-gray-600",children:"Welcome Back"}),e("div",{className:"my-3",children:a&&o?e(E,{message:a,type:o,icon:"fa-exclamation-triangle"}):null}),s("form",{onSubmit:i.handleSubmit,children:[s("div",{className:"w-full mt-4",children:[e(A,{type:"email",id:"email",name:"email",placeholder:"Email",value:i.values.email,onChange:i.handleChange,onBlur:i.handleBlur}),i.touched.email&&i.errors.email?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:i.errors.email})}):null]}),s("div",{className:"w-full mt-4",children:[e(A,{type:"password",id:"password",name:"password",placeholder:"Password",value:i.values.password,onChange:i.handleChange,onBlur:i.handleBlur}),i.touched.password&&i.errors.password?e("div",{className:"w-full my-2",children:e(E,{type:"error",icon:"fa-exclamation-triangle",message:i.errors.password})}):null]}),e("div",{className:"flex items-center justify-end mt-4",children:e(v,{variant:"primary",size:"normal",label:"Login",type:"submit",icon:"fa-sign-in-alt"})})]})]})})},xt=()=>e("div",{className:"h-screen w-screen bg-gray-100 flex items-center px-4",children:e("div",{className:"container pl-4 md:pl-12 text-gray-700",children:s("div",{className:"max-w-md",children:[e("h1",{className:"text-5xl font-dark font-bold mb-4",children:"404"}),e("p",{className:"text-xl md:text-2xl font-light leading-normal mb-8",children:"Sorry we couldn't find this page."}),e(_,{isButton:!0,linkText:"Back to Customers Page",linkTo:"/customers",size:"normal",variant:"primary"})]})})}),De=({type:t,id:r,setId:n,onAction:a,setShowModal:o})=>s(b,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-sm",children:s("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white",children:[s("div",{className:"flex items-start justify-between p-5",children:[e("h3",{className:"text-lg md:text-3xl mr-8",children:t==="cancel"?"Cancel Order":"Deliver Order"}),e(v,{variant:"secondary",size:"normal",type:"button",icon:"fa-times",onClick:()=>{o(!1),n("")}})]}),e("p",{className:"mx-4 pb-3 text-gray-600 text-base md:text-lg leading-relaxed border-b border-gray-400",children:t==="cancel"?"Are you sure you want to cancel this order?":"Are you sure you want to deliver this order?"}),s("div",{className:"flex items-center justify-end p-4 gap-2",children:[e(v,{variant:"secondary",size:"normal",label:"Close",type:"button",icon:"fa-times",onClick:()=>{o(!1),n("")}}),e(v,{variant:t==="cancel"?"danger":"primary",size:"normal",label:t==="cancel"?"Cancel Order":"Deliver Order",type:"button",icon:t==="cancel"?"fa-ban":"fa-truck-loading",onClick:()=>a(r)})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),ft=({order:t})=>{const r=l.exports.useContext(X),{cancelOrder:n,deliverOrder:a}=r,[o,c]=l.exports.useState(!1),[g,m]=l.exports.useState(!1),[h,i]=l.exports.useState(""),p=l.exports.useCallback(z=>{n(z),c(!1)},[]),d=l.exports.useCallback(z=>{a(z),m(!1)},[]),{client:u,details:x,total:f,delivered:y,updatedAt:$}=t,R=`rounded shadow-lg ${y?"shadow-green-600":"shadow-blue-600"}`;return s(b,{children:[s("div",{className:`animate__animated animate__fadeIn grid gap-4 grid-cols-12 py-3 md:py-2 px-3 md:px-4 ${R}`,children:[s("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-5",children:[s("h1",{className:"mb-2 text-lg md:text-xl font-medium tracking-wide",children:["Customer: ",`${u.firstName} ${u.lastName}`]}),s("p",{className:"mb-2 font-light",children:["E-mail: ",u.email]}),s("p",{className:"mb-2 font-light",children:["Phone: ",u.phone?u.phone:"No phone"]}),s("p",{className:"font-light",children:["Address: ",u.address?u.address:"No address"]})]}),s("div",{className:"py-2 px-1 md:px-3 col-span-12 md:col-span-7",children:[e("h1",{className:"mb-2 text-lg md:text-xl font-medium tracking-wide",children:"Resume"}),x.map(z=>s("article",{className:"flex flex-col gap-1 font-light mb-2 py-2",children:[s("p",{children:[e("strong",{children:"Product: "}),z.product.name]}),s("p",{children:[e("strong",{children:"Quantity: "}),z.quantity]}),s("p",{children:[e("strong",{children:"Price: "}),z.product.price]})]},z._id)),s("p",{className:"mt-4 text-green-700 text-lg md:text-2xl font-medium",children:["Total: $",f]})]}),e("div",{className:"px-1 md:px-3 mb-0 md:mb-1 col-span-12",children:y?s("h1",{className:"uppercase text-green-700 text-lg md:text-2xl",children:["Order Delivered: ",new Date(`${$}`).toLocaleDateString("es-MX")]}):s("div",{className:"flex gap-2",children:[e("div",{children:e(v,{variant:"danger",size:"normal",label:"Cancel Order",type:"button",icon:"fa-ban",onClick:()=>{c(!0),i(t._id)}})}),e("div",{children:e(v,{variant:"primary",size:"normal",label:"Deliver Order",type:"button",icon:"fa-truck-loading",onClick:()=>{m(!0),i(t._id)}})})]})})]}),o?e(De,{type:"cancel",id:h,setId:i,onAction:p,setShowModal:c}):null,g?e(De,{type:"deliver",id:h,setId:i,onAction:d,setShowModal:m}):null]})},yt=[{value:"",label:"All Orders"},{value:!1,label:"Not Delivered"},{value:!0,label:"Delivered"}],bt=()=>{const{orders:t,totalPages:r,getOrders:n}=l.exports.useContext(X),a=2,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[p,d]=l.exports.useState(`?page=1&size=${a}`);t.length===0&&n(`?page=1&size=${a}`),l.exports.useEffect(()=>{n(p),i(!1)},[p]);const u=y=>{d(`?page=${y}&size=${a}&delivered=${g}`),c(y)},x=y=>{m(y==null?void 0:y.value)},f=y=>{y.preventDefault(),d(g===!1||g===!0?`?page=1&size=${a}&delivered=${g}`:`?page=1&size=${a}`)};return h?e(ae,{}):s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Orders"}),e(_,{isButton:!0,linkText:"Create Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Orders"}),e(_,{isButton:!0,linkText:"New Order",linkTo:"/orders/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[s("form",{onSubmit:f,className:"flex items-center justify-between px-5 py-4 shadow-md shadow-blue-300 rounded",children:[e(Z,{name:"clients",options:yt,className:"basic-single",classNamePrefix:"select",onChange:x,placeholder:"Select an option"}),e("div",{className:"flex gap-3",children:e(v,{variant:"primary",size:"normal",label:"Search",type:"submit",icon:"fa-search"})})]}),e("section",{className:"mt-6 flex flex-col gap-4",children:t.map(y=>e(l.exports.Fragment,{children:e(ft,{order:y})},y._id))}),e("section",{className:"flex justify-end mt-4",children:e(re,{page:o,totalRecords:r,paginate:u})})]})]}),e(B,{position:"top-right",reverseOrder:!1})]})},Nt=(t,r,n)=>t.map(({_id:a,name:o,stock:c,price:g})=>s("tr",{children:[e("td",{className:"p-2 whitespace-nowrap",children:o}),e("td",{className:"p-2 whitespace-nowrap",children:c}),s("td",{className:"p-2 whitespace-nowrap",children:["$ ",g]}),s("td",{className:"flex gap-2 p-2 whitespace-nowrap",children:[e(v,{variant:"danger",size:"small",label:"Delete",type:"button",icon:"fa-trash",onClick:()=>{r(!0),n(a)}}),e(_,{isButton:!0,linkText:"Edit",linkTo:`/products/edit/${a}`,icon:"fa-edit",size:"small",variant:"primary"})]})]},a)),vt=()=>{const{products:t,deleteProduct:r,getProducts:n}=l.exports.useContext(H),a=10,[o,c]=l.exports.useState(1),[g,m]=l.exports.useState(""),[h,i]=l.exports.useState(!0),[p,d]=l.exports.useState(!1);l.exports.useEffect(()=>{n(),i(!1)},[]);const u=l.exports.useCallback(R=>{r(R),d(!1),c(1)},[]),x=R=>c(R),f=o*a,y=f-a,$=t.slice(y,f);return h?e(ae,{}):s(b,{children:[e(I,{}),s("main",{className:"animate__animated animate__fadeIn w-full md:w-10/12 mx-auto mb-4 px-6 md:px-0",children:[e("section",{className:"flex items-center justify-between px-5 py-4",children:t.length===0?s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"No Products"}),e(_,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]}):s(b,{children:[e("h2",{className:"text-lg md:text-2xl text-gray-800",children:"Products"}),e(_,{isButton:!0,linkText:"Add Product",linkTo:"/products/new",size:"normal",variant:"primary"})]})}),t.length>0&&s(b,{children:[e("section",{className:"mt-4",children:e(Ae,{headings:["Name","Stock","Price","Options"],content:Nt($,d,m)})}),e("section",{className:"flex justify-end mt-4",children:e(re,{page:o,totalRecords:Math.ceil(t.length/a),paginate:x})})]})]}),p?e(Re,{id:g,setId:m,onDelete:u,setShowModal:d}):null,e(B,{position:"top-right",reverseOrder:!1})]})},wt=()=>s(Fe,{children:[e(D,{path:"/",element:e(gt,{})}),e(D,{path:"/customers",element:e(M,{children:e(ut,{})})}),e(D,{path:"/customers/edit/:id",element:e(M,{children:e(pt,{})})}),e(D,{path:"/customers/new",element:e(M,{children:e(nt,{})})}),e(D,{path:"/products",element:e(M,{children:e(vt,{})})}),e(D,{path:"/products/new",element:e(M,{children:e(it,{})})}),e(D,{path:"/products/edit/:id",element:e(M,{children:e(ht,{})})}),e(D,{path:"/orders",element:e(M,{children:e(bt,{})})}),e(D,{path:"/orders/new",element:e(M,{children:e(ct,{})})}),e(D,{path:"*",element:e(xt,{})})]}),$e=sessionStorage.getItem("admin-token");$e&&me($e);function Ct(){return e(Xe,{children:e(We,{children:e(Ze,{children:e(at,{children:e(tt,{children:e(wt,{})})})})})})}Ge.render(e(He.StrictMode,{children:e(Ve,{children:e(Ct,{})})}),document.getElementById("root"));
